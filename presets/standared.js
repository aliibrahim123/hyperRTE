var ue=Object.defineProperty;var s=(e,t)=>ue(e,"name",{value:t,configurable:!0});var v=s((e,t)=>{if(typeof e!="string")throw new TypeError(`hyperRTE: ${t} of type (${e?.constructor?.name}), expected (String)`)},"checkstr"),y=s((e,t)=>{if(typeof e!="function")throw new TypeError(`hyperRTE: ${t} of type (${e?.constructor?.name}), expected (Function)`)},"checkfn"),E=s((e,t)=>{if(!Array.isArray(e))throw new TypeError(`hyperRTE: ${t} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr");var j=s((e,t)=>{if(!(e instanceof Node))throw new TypeError(`dom: ${t} of type (${e?.constructor?.name}), expected (Node)`)},"checknode"),M=s((e,t)=>{if(typeof e!="string")throw new TypeError(`dom: ${t} of type (${e?.constructor?.name}), expected (String)`)},"checkstr");var K=s((e,t)=>{if(!Array.isArray(e))throw new TypeError(`dom: ${t} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr");var J=s(e=>(e.forEach((t,r)=>{if(!(t instanceof Node))throw new TypeError(`dom: element at index (${r}) of type (${t?.constructor?.name}), expected (Element)`)}),e),"checkEls"),he=/[a-z]/,fe=s((e,t=document,r)=>{if(typeof e=="string"){if(e[0]?.match(he))return[I(e,t instanceof Node?[]:t,r)];if(e[0]==="<"){let n=document.createElement("div");return n.innerHTML=e,Array.from(n.children)}return j(t,"root"),Array.from(t.querySelectorAll(e))}if(e instanceof Element)return[e];if(Array.isArray(e))return J(e);if(e?.length!==void 0)return J(Array.from(e));throw new TypeError(`dom: a of type (${e?.constructor?.name}), expected (String) or (Element) or (ArrayLike)}`)},"$el"),I=s((e,t={},r=[])=>{M(e,"tag"),K(r,"children");var n=document.createElement(e);for(let i in t){let o=t[i];if(i==="text")n.innerText=o;else if(i==="classList")n.classList=Array.isArray(o)?o.join(" "):o;else if(i==="style")Object.assign(n.style,o);else if(i==="attr")for(let a in o)n.setAttribute(a,o[a]);else if(i==="events")for(let a in o)n.addEventListener(a,o[a]);else n[i]=o}return n.append(...r),n},"create"),W=s((e,t=document)=>(M(e,"query"),j(t,"root"),Array.from(t.querySelectorAll(e))),"query"),d=s((e,t=!1)=>{M(e,"string");var r=document.createElement("div");return r.innerHTML=e,!t&&r.children.length===1?r.children[0]:Array.from(r.children)},"construct"),Q=fe;var N=s((e,t)=>{if(typeof e!="string")throw new TypeError(`events: ${t} of type (${e?.constructor?.name}), expected (String)`)},"checkstr"),F=s((e,t)=>{if(typeof e!="function")throw new TypeError(`events: ${t} of type (${e?.constructor?.name}), expected (Function)`)},"checkfn"),ge=s((e,t)=>{if(!Array.isArray(e))throw new TypeError(`events: ${t} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr"),z=class{static{s(this,"EventEmmiter")}constructor(t={},r={}){this.opts={addUndifined:!0,...t},this.events={};for(let n in r)this.add(n),ge(r[n],"listners"),r[n].forEach(i=>this.on(n,i))}add(t){if(N(t,"name"),t in this.events)throw new ReferenceError(`events: adding defined event (${t})`);return this.events[t]=[],this}has(t){return N(t,"name"),t in this.events}on(t,r){if(typeof t=="object"){for(let n in t)this.on(n,t[n]);return this}if(N(t,"name"),F(r,"listner"),t in this.events)this.events[t].push(r);else if(this.opts.addUndifined)this.events[t]=[r];else throw new ReferenceError(`events: undefined event (${t})`);return this}off(t,r){if(N(t,"name"),F(r,"listner"),t in this.events)r?this.events[t].splice(this.events[t].indexOf(r),1):this.events[t]=[];else throw new ReferenceError(`events: undefined event (${t})`);return this}once(t,r){N(t,"name"),F(r,"listner");var n=s((...i)=>{r(...i),this.off(t,n)},"onceFn");return this.on(t,n)}trigger(t,...r){if(N(t,"name"),t in this.events)this.events[t].forEach(n=>n(...r));else throw new ReferenceError(`events: undefined event (${t})`);return this}};var Y=s((e,t)=>{var r=e.mainEl=Q(t)[0];if(!r)throw new Error(`HyperRTE: no element with selector (${t})`);r.classList.add("hrte");var n=e.toolbarEl=d('<div class="hrte-toolbar">');r.append(n);var i=e.contentEl=d('<div class="hrte-content">');r.append(i),i.contentEditable=!0,i.addEventListener("keyup",()=>e.trigger("stateChange")),i.addEventListener("mouseup",()=>e.trigger("stateChange")),i.addEventListener("input",o=>e.trigger("input",o)),i.addEventListener("cut",o=>e.trigger("cut",o)),i.addEventListener("copy",o=>e.trigger("copy",o)),i.addEventListener("paste",o=>e.trigger("paste",o))},"constructMainUI"),Z=s((e,t)=>{var{buttons:r,toolbarEl:n}=e;t.forEach(i=>{if(i==="separator")return n.append(d("<span class='hrte-button-separator'>&nbsp;</span>"));var o=r[i];if(!o)throw new TypeError(`HyperRTE: undefined button (${i})`);var{title:a,creator:l,state:u,action:f}=o,p=d(`<button class='hrte-button' title='${a||""}'>`);l(p,e),f&&p.addEventListener("click",g=>{e.contentEl.focus(),e.doAction(i,f)}),u&&e.on("stateChange",()=>u(e,p)?p.classList.add("hrte-button-selected"):p.classList.remove("hrte-button-selected")),n.append(p)})},"constructToolbar");var me=Math.sqrt(screen.height**2+screen.width**2)/100;document.body.style.setProperty("--vd",me+"px");var U=s(e=>{e:if(e.children.length===1&&e.classList.contains("styled")){var t=e.children[0],r=e,n={};for(ee(e,n);r.children.length===1&&r.childNodes.length===1&&t.tagName===r.tagName&&t.classList.contains("styled");)r=t,t=t.children[0],ee(r,n);if(r===e)break e;Object.keys(n).forEach(i=>{r.classList.add("styled-"+i),r.style[i]=n[i]}),e.after(r),e.remove(),e=r}Array.from(e.children).forEach(i=>U(i))},"cleanStyles"),ee=s((e,t)=>Array.from(e.classList).filter(r=>r.startsWith("styled-")).map(r=>{var n=r.slice(7);t[n]=e.style[n]}),"handleStyles");var b=s((e,t)=>{if(!(e instanceof Element))throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (Element)`)},"checkel"),P=s((e,t)=>{if(!(e instanceof Node))throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (Node)`)},"checknode"),m=s((e,t)=>{if(typeof e!="string")throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (String)`)},"checkstr"),q=s((e,t)=>{if(typeof e!="function")throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (Function)`)},"checkfn"),D=s((e,t)=>{if(!Array.isArray(e))throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr");var A=s(e=>{b(e,"element"),e.after(...e.childNodes),e.remove()},"unwrap"),G=s(()=>{var e=getSelection();if(e.rangeCount){var t=e.getRangeAt(0),r=t.startContainer;for(r.nodeType!==r.ELEMENT_NODE&&(r=r.parentElement);!r.hasAttribute("contenteditable");){if(r===document.body)return;r=r.parentElement}return r}},"getContainer"),_=s((e,t,r)=>{b(e,"element"),t&&P(t,"offset element"),r&&b(r,"offset parent");var n=e.cloneNode(!1),i=Array.from(e.childNodes),o=!1;for(let a=0;a<i.length;a++){let l=i[a];(o||l===t)&&(o=!0,n.append(l))}return r?r.prepend(n):e.after(n),n},"splitEl"),S=s((e,t)=>{m(e,"tag"),t&&q(t,"function");var r=getSelection();if(r.rangeCount){var n=r.getRangeAt(0),i=G();if(i)for(var o=n.commonAncestorContainer;o!==i;){if(o.tagName===e.toUpperCase()&&(!t||t(o)))return o;o=o.parentElement}}},"getWrapped");var H=s((e,t,r=!0,n,i={})=>{b(e,"element"),m(t,"tag"),n&&q(n,"cleaner"),t=t.toLowerCase();var o=[...e.getElementsByTagName(t)];r&&e.tagName===t.toUpperCase()&&o.push(e),o=o.filter(a=>Array.from(a.classList).every(l=>l in R?R[l](a,i[l]):!0)),n&&(o=o.filter(n)),o.forEach(a=>A(a))},"clean"),V=s((e,t=[],r=[],n=[],i=new Set)=>{if(P(e,"node"),D(t,"doNotCleanTags"),e.nodeType===e.ELEMENT_NODE){var o=Array.from(e.childNodes),a=e.tagName.toLowerCase();if(n.includes(a))return;t.includes(a)||(e.childNodes.length===0?e.remove():r.includes(a)||(e.tagName===e.previousSibling?.tagName?(e.previousSibling.append(...o),e.remove()):i.has(a)&&!Array.from(e.classList).some(l=>l in R)&&(e.after(...o),e.remove()))),o.forEach(l=>V(l,t,r,n,new Set([...i,a])))}else e.nodeType===3&&(e.textContent===""?e.remove():e.previousSibling?.nodeType===e.TEXT_NODE&&(e.previousSibling.textContent+=e.textContent,e.remove()))},"cleanDom"),R={styled(e,t){if(!t)return!1;var[r,n]=t;return e.classList.contains(n+"-"+r)&&(e.classList.remove(n+"-"+r),e.style[r]=""),[...e.classList].reduce((i,o)=>o.startsWith(n)?i+1:i,0)===1}};var te={unwrap:A,getContainer:G,splitEl:_,getWrapped:S,clean:H,cleanDom:V,cleanMap:R,isWrappedWith(e,t){return!!S(e,t)},surround(e,t=!0,r,n){b(e,"wrapper");var i=getSelection();if(!i.rangeCount)return{success:!1};var o=i.getRangeAt(0);return e.append(...o.cloneContents().childNodes),o.deleteContents(),t&&H(e,e.tagName,!1,r,n),o.insertNode(e),{success:!0,type:"surround",node:e}},undo(e,t,r){var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0),o=i.cloneContents();i.deleteContents();var a=document.createElement("span");a.append(o),H(a,e,!1,t,r),i.insertNode(a);var l=S(e,t);if(!l){var k=a.childNodes[0],x=a.childNodes[a.childNodes.length-1];return A(a),i.setStartBefore(k),i.setEndAfter(x),{success:!0,type:"undo"}}for(var u=a,f=[u];u!==l;)u=u.parentElement,f.unshift(u);var p;f.forEach((h,$)=>{h!==l&&(p=_(h.parentElement,h.nextSibling,p))});var g=f.reduce((h,$,w)=>{if(w===f.length-1)return h;var T=$.cloneNode(!1);return h===l?h.after(T):h.append(T),T});g===l?l.after(a):g.append(a);var k=a.childNodes[0],x=a.childNodes[a.childNodes.length-1];return A(a),i.setStartBefore(k),i.setEndAfter(x),{success:!0,type:"undo"}},replace(e="",t="text",r=!1){m(t,"replace type");var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0);if(i.deleteContents(),t==="node")i.insertNode(e);else{m(e,"topaste");let o=document.createElement("span");if(t==="text")o.innerText=e;else if(t==="html")o.innerHTML=e;else throw new TypeError("edit: undefined replace type ("+t+")");i.insertNode(o),r&&r(o)}return{success:!0,type:"replace"}},applyCss(e,t,r="span",n="styled",i=!0,o){m(e,"property"),m(t,"value");var a=document.createElement(r);return a.classList.add(n),a.classList.add(n+"-"+e),a.style[e]=t,this.surround(a,i,o,{styled:[e,n]})},copy(){var e=getSelection();if(!e.rangeCount)return"";var t=e.getRangeAt(0),r=document.createElement("div");return r.append(t.cloneContents()),r.innerHTML},cut(){var e=getSelection();if(!e.rangeCount)return"";var t=e.getRangeAt(0),r=document.createElement("div");return r.append(t.extractContents()),r.innerHTML},delete(){var e=getSelection();if(!e.rangeCount)return{success:!1};var t=e.getRangeAt(0);return t.deleteContents(),{success:!0,type:"delete"}},insert(e,t="text",r=!1){m(t,"insert type");var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0);if(t==="node")i.insertNode(e);else{m(e,"toinsert");var o=document.createElement("span");if(t==="text")o.innerText=e;else if(t==="html")o.innerHTML=e;else throw new Error("edit: undefined insert type ("+t+")");i.insertNode(o),r&&r(o)}return{success:!0,type:"insert"}},toggle(e,t=0,r,n,i){var o;if(e?.nodeType?(o=e,e=e.tagName.toLowerCase()):o=document.createElement(e),t===0)return this.isWrappedWith(e)?this.undo(e,n,i):this.surround(o,r,n,i);if(t===1)return this.surround(o,r,n,i);if(t===2)return this.undo(e,n,i);throw new Error("edit: toggle type is ("+t+"), expected 0, 1, or 2")},removeFormat(e=["b","i","u","s","sup","sub","span","div"]){D(e,"tagNames");var t=getSelection();if(!t.rangeCount)return{success:!1};var r=t.getRangeAt(0),n=t.toString();return r.deleteContents(),r.insertNode(new Text(n)),e.forEach(i=>this.undo(i)),{success:!0,type:"remove-format"}},getSelectedElement(){var e=getSelection();if(e.rangeCount){var t=e.getRangeAt(0).commonAncestorContainer;return t.nodeType===3?t.parentNode:t}},selectParagraph(){var e=getSelection();if(!e.rangeCount)return{success:!1};var t=e.getRangeAt(0),r=S("p");return r?(t.selectNode(r),{success:!0,type:"select"}):this.selectAll()},selectAll(){var e=getSelection();if(!e.rangeCount)return{success:!1};var t=e.getRangeAt(0),r=this.getContainer();return t.setStartBefore(r.firstChild),t.setEndAfter(r.lastChild),{success:!0,type:"select"}},bold(e){return this.toggle("b",e)},underline(e){return this.toggle("u",e)},italic(e){return this.toggle("i",e)},strikeThrough(e){return this.toggle("s",e)},subscript(e){return this.toggle("sub",e)},superscript(e){return this.toggle("sup",e)},backColor(e){return this.applyCss("background-color",e||"")},fontColor(e){return this.applyCss("color",e||"")},fontName(e){return this.applyCss("font-family",e||"")},fontSize(e){return this.applyCss("font-size",e||"")},link(e,t=!1){m(e,"url");var r=document.createElement("a");return r.href=e,t&&this.isWrappedWith("a")?this.undo("a"):this.surround(r)},img(e){m(e,"url");var t=document.createElement("img");return t.src=e,this.insert(t,"node")},heading(e=1,t){return this.toggle("h"+e,t)},orderedList(){var e=this.surround(document.createElement("li")),t=document.createElement("ol");return e.node.before(t),t.append(e.node),e},unorderedList(){var e=this.surround(document.createElement("li")),t=document.createElement("ul");return e.node.before(t),t.append(e.node),e},block(e){return this.toggle("div",e)},inline(e){return this.toggle("span",e)},paragraph(){var e=S("p");return e?(A(e),{success:!0,type:"undo"}):this.surround(document.createElement("p"))},quote(e){return this.toggle("q",e)},indent(e){return this.selectParagraph(),this.applyCss("text-indent",e||"","div")},align(e){return this.selectParagraph(),this.applyCss("text-align",e||"","div")},direction(e){return this.applyCss("direction",e||"","div")},hr(){return this.insert(document.createElement("hr"),"node")}};globalThis.$edit=te;var c=te;var re=s((e=!0)=>{var t=d("<span class='hrte-dropDown'>"),r=s(o=>{e&&!t.contains(o.target)&&i()},"clickListner"),n=s(()=>{t.classList.add("hrte-dropDown-open"),document.body.addEventListener("click",r)},"open"),i=s(()=>{document.body.removeEventListener("click",r),t.classList.remove("hrte-dropDown-open")},"close");return[t,n,i]},"createDropDown");var L=s((e,t,r)=>{var{title:n,icon:i,data:o,item:a,action:l,state:u}=r;E(o,"data"),v(i,"icon"),y(a,"item transformer"),y(l,"action"),e.addButton(t,{title:n,state:u,creator:f=>{var[p,g,k]=re();o.forEach((h,$)=>{$!==0&&p.append(d("<div class='hrte-list-separator'>"));var w=d("<div class='hrte-list-item'>");w.append(a(h,e)),w.addEventListener("click",()=>{k(),x(),e.doAction(t,()=>l(h,e))}),p.append(w)});var x;f.addEventListener("click",h=>{h.stopPropagation(),x=e.captureSelection(),g()}),e.toolbarEl.append(p),f.append(d(i))}})},"addList"),C=s((e,t,r)=>{var{title:n,icon:i,action:o,state:a,type:l,reset:u,...f}=r;v(i,"icon"),v(i,"type"),y(o,"action"),e.addButton(t,{title:n,state:a,creator:p=>{var[g,k,x]=re(),h;p.addEventListener("click",pe=>{pe.stopPropagation(),h=e.captureSelection(),k()});var $=d(l==="textarea"?"<textarea>":"<input>");l!=="textarea"&&($.type=l),Object.assign($,f);var w=d('<span class="hrte-button2">apply</span>');if(w.addEventListener("click",()=>{x(),h(),e.doAction(t,()=>o($.value,e))}),u){var T=d('<span class="hrte-button2">remove</span>');T.addEventListener("click",()=>{x(),h(),e.doAction(t,()=>o("initial",e))})}else var T="";g.append($,I("div",{},[w,T])),e.toolbarEl.append(g),p.append(d(i))}})},"addInput"),O=s((e,t,r)=>C(e,t,{type:"number",...r}),"addNumber"),X=s((e,t,r)=>C(e,t,{type:"color",reset:!0,...r}),"addColor");var B=class{static{s(this,"HyperRTE")}buttons={};events=new z;constructor(t){var{el:r,plugins:n,toolbar:i,icons:o,clean:a}={el:null,plugins:[],toolbar:[],icons:"./icons/",clean:{cleanAfterAction:!0,doNotMergeTags:["div","span","p","li","ul","ol","a","mark"],doNotCleanTags:["hr","br","img","video","iframe","td","tr","table","caption"],skipTags:["svg","math"]},...t},{cleanAfterAction:l,doNotCleanTags:u,doNotMergeTags:f,skipTags:p}=a;this.cleanAfterAction=l,v(o,"icons path"),this.icons=o,E(u,"doNotCleanTags"),this.doNotCleanTags=u,E(f,"doNotMergeTags"),this.doNotMergeTags=f,E(p,"skipTags"),this.skipTags=p,["stateChange","beforeAction","afterAction","input","cut","copy","paste","export","showMain","hideMain"].forEach(g=>this.events.add(g)),Y(this,r),E(n,"plugins"),n.forEach(g=>{y(g,"plugin"),g(this,t)}),E(i,"toolbar"),i.length===0&&(i=Object.keys(this.buttons)),Z(this,i)}on(t,r){this.events.on(t,r)}off(t,r){this.events.off(t,r)}once(t,r){this.events.once(t,r)}trigger(t,...r){this.events.trigger(t,this,...r)}doAction(t,r,n=!1){v(t,"action name"),y(r,"handler"),!(!n&&!this.contentEl.contains(document.activeElement))&&(this.trigger("beforeAction",t),r(this),this.cleanAfterAction&&this.clean(),this.trigger("afterAction",t),this.contentEl.focus(),this.trigger("stateChange"))}get content(){return this.contentEl.innerHTML}set content(t){this.contentEl.innerHTML=t}clean(){this.contentEl.childNodes.length!==0&&(c.cleanDom(this.contentEl,this.doNotCleanTags,this.doNotMergeTags,this.skipTags),U(this.contentEl))}focus(){this.contentEl.focus()}export(){var t=this.contentEl.cloneNode(!0);return W(".styled",t).forEach(r=>Array.from(r.classList).forEach(n=>n.startsWith("styled")&&r.classList.remove(n))),this.trigger("export",t),t.innerHTML}captureSelection(){var t=getSelection();if(!t.rangeCount)return()=>{};var r=t.getRangeAt(0).cloneRange();return()=>{t.removeAllRanges(),t.addRange(r)}}addButton(t,r){if(v(t,"button name"),!r)throw new TypeError(`HyperRTE: definition of type (${r}), expected (Object)`);var{title:n,icon:i,creator:o,state:a,action:l}=r;v(n,"title"),i&&(v(i,"icon"),o=s(u=>u.append(d(i)),"creator")),y(o,"creator"),a&&y(a,"state"),l&&y(l,"action"),this.buttons[t]={title:n,creator:o,state:a,action:l}}};var ne=s((e,t)=>{e.addButton("bold",{title:"toggle bold",icon:`<img src='${e.icons}bold.svg'>`,state:()=>c.isWrappedWith("b"),action:()=>c.bold()}),e.addButton("italic",{title:"toggle italic",icon:`<img src='${e.icons}italic.svg'>`,state:()=>c.isWrappedWith("i"),action:()=>c.italic()}),e.addButton("underline",{title:"toggle underline",icon:`<img style='height:calc(var(--vd) * 1.2)' src='${e.icons}underline.svg'>`,state:()=>c.isWrappedWith("u"),action:()=>c.underline()}),e.addButton("strikethrough",{title:"toggle strikethrough",icon:`<img src='${e.icons}strikethrough.svg'>`,state:()=>c.isWrappedWith("s"),action:()=>c.strikeThrough()}),e.addButton("subscript",{title:"toggle subscript",icon:`<img src='${e.icons}subscript.svg'>`,state:()=>c.isWrappedWith("sub"),action:()=>c.subscript()}),e.addButton("superscript",{title:"toggle superscript",icon:`<img src='${e.icons}superscript.svg'>`,state:()=>c.isWrappedWith("sup"),action:()=>c.superscript()})},"default");var ie=s((e,t)=>{e.addButton("clean",{title:"clean the dom",icon:`<img src='${e.icons}clean.svg'>`,action:()=>e.clean()}),e.addButton("remove format",{title:"remove format",icon:`<img src='${e.icons}remove-format.svg'>`,action:()=>c.removeFormat()}),e.addButton("select paragraph",{title:"select paragraph",icon:`<img src='${e.icons}select-paragraph.svg'>`,action:()=>c.selectParagraph()}),e.addButton("select all",{title:"select all",icon:`<img src='${e.icons}select-all.svg'>`,action:()=>c.selectAll()})},"default");var oe=s((e,t)=>{var r=t.fonts||["default","cursive","monospace","serif","sans-serif","fantasy","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Bookman Old Style","Bradley Hand ITC","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Georgia","Gentium","Impact","King","Lucida Console","Lalit","Modena","Monotype Corsiva","Papyrus","Tahoma","TeX","Times","Times New Roman","Trebuchet MS","Verdana","Verona"];E(r,"fonts"),O(e,"font size",{title:"change font size",icon:`<img src='${e.icons}font-size.svg'>`,placeholder:"size",min:1,action:n=>c.fontSize(n==="initial"?n:n+"px"),reset:!0}),L(e,"font family",{title:"change font family",icon:`<img src='${e.icons}font-family.svg'>`,data:r,item:n=>d(`<span style='font-family: "${n}"'>${n}`),action:n=>c.fontName(n==="default"?"initial":n)}),X(e,"font color",{title:"change font color",icon:`<img src='${e.icons}font-color.svg'>`,action:n=>c.fontColor(n)}),X(e,"background color",{title:"change backColor color",icon:`<img src='${e.icons}back-color.svg'>`,action:n=>c.backColor(n)})},"default");var se=s((e,t)=>{e.addButton("paragraph",{title:"toogle paragraph",icon:`<img src='${e.icons}paragraph.svg'>`,action:()=>c.paragraph(),state:()=>c.isWrappedWith("p")}),e.addButton("quote",{title:"add quote",icon:`<img src='${e.icons}quote.svg'>`,action:()=>c.quote(),state:()=>c.isWrappedWith("q")}),L(e,"heading",{title:"add heading",icon:`<img src='${e.icons}heading.svg'>`,data:[1,2,3,4,5,6],item:r=>d(`<h${r}>size ${r}`),action:r=>c.heading(r),state:()=>[1,2,3,4,5,6].some(r=>c.isWrappedWith("h"+r))}),e.addButton("unordered list",{title:"add unordered list",icon:`<img src='${e.icons}ulist.svg'>`,action:()=>c.unorderedList(),state:()=>c.isWrappedWith("ul")}),e.addButton("ordered list",{title:"add ordered list",icon:`<img src='${e.icons}olist.svg'>`,action:()=>c.orderedList(),state:()=>c.isWrappedWith("ol")}),e.addButton("horizantal rule",{title:"add horizantal rule",icon:`<img src='${e.icons}hr.svg'>`,action:()=>c.hr(),state:()=>c.isWrappedWith("hr")})},"default");var ae=s((e,t)=>{L(e,"align",{title:"change text aligning",icon:`<img src='${e.icons}align-justify.svg'>`,data:["left","right","center","justify"],item:r=>d(`<img title=${r} style='width: calc(var(--vd) * 1.5' src='${e.icons}align-${r}.svg'>`),action:r=>c.align(r),state:(r,n)=>{n.children[0].src=`${r.icons}align-${c.getWrapped("div",i=>i.style.textAlign!=="")?.style?.textAlign||"justify"}.svg`}}),O(e,"indent",{title:"change text indent",icon:`<img src='${e.icons}indent.svg'>`,placeholder:"size",min:1,action:r=>c.indent(r==="initial"?r:r+"px"),reset:!0}),L(e,"direction",{title:"change text direction",icon:`<img src='${e.icons}direction-ltr.svg'>`,data:["ltr","rtl"],item:r=>d(`<img title=${r==="ltr"?"left":"right"} style='width: calc(var(--vd) * 1.5' src='${e.icons}direction-${r}.svg'>`),action:r=>c.direction(r),state:(r,n)=>{n.children[0].src=`${r.icons}direction-${c.getWrapped("div",i=>i.style.direction!=="")?.style?.direction||"ltr"}.svg`}})},"default");var ce=s((e,t)=>{C(e,"image",{title:"add image",icon:`<img src='${e.icons}image.svg'>`,type:"url",placeholder:"insert url",action:r=>c.insert(d(`<img src='${r}' class=resizable>`),"node")}),C(e,"link",{title:"add link",icon:`<img src='${e.icons}link.svg'>`,type:"url",placeholder:"insert url",reset:!0,action:r=>r==="initial"?c.undo("a"):c.link(r),state:()=>c.isWrappedWith("a")}),C(e,"video",{title:"add video",icon:`<img src='${e.icons}video.svg'>`,type:"url",placeholder:"insert url",action:r=>c.insert(d(`<video src='${r}' class=resizable>`),"node")}),C(e,"iframe",{title:"add iframe",icon:`<img src='${e.icons}iframe.svg'>`,type:"url",placeholder:"insert url",action:r=>c.insert(d(`<iframe src='${r}' class=resizable>`),"node")})},"default");var le=Symbol("checked"),ve=s(e=>{var t=e.target;if(!t.parentElement.classList.contains("resizable-container")){var r=d("<div class='resizable-container'>");t.after(r),r.append(t),t.style.width&&(r.style.width=t.style.width),t.style.height&&(r.style.height=t.style.height),t.style.width="100%",t.style.height="100%";var n=s(i=>{r!==i.target&&(t.style.width=r.style.width,t.style.height=r.style.height,r.after(t),r.remove(),document.body.removeEventListener("click",n))},"listner");setTimeout(()=>document.body.addEventListener("click",n),1)}},"handleResize"),ye=s(e=>W(".resizable",e).forEach(t=>{t[le]||(t.addEventListener("click",ve),t[le]=!0)}),"attach"),de=s((e,t)=>{e.on("afterAction",r=>ye(r.contentEl)),e.on("export",(r,n)=>W(".resizable",n).forEach(i=>i.classList.remove("resizable")))},"default");var Yt=s(e=>new B({plugins:[ie,ne,oe,se,ae,ce,de],toolbar:["clean","remove format","separator","select paragraph","select all","separator","bold","italic","underline","strikethrough","subscript","superscript","separator","font size","font family","font color","background color","separator","paragraph","quote","heading","horizantal rule","separator","unordered list","ordered list","separator","align","indent","direction","separator","image","link","video"],...e}),"default");export{Yt as default};
