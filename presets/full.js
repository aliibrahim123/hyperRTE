var Ce=Object.defineProperty;var s=(e,r)=>Ce(e,"name",{value:r,configurable:!0});var w=s((e,r)=>{if(!(e instanceof Element))throw new TypeError(`hyperRTE: ${r} of type (${e?.constructor?.name}), expected (Element)`)},"checkel"),M=s((e,r)=>{if(!(e instanceof Node))throw new TypeError(`hyperRTE: ${r} of type (${e?.constructor?.name}), expected (Node)`)},"checknode"),h=s((e,r)=>{if(typeof e!="string")throw new TypeError(`hyperRTE: ${r} of type (${e?.constructor?.name}), expected (String)`)},"checkstr"),E=s((e,r)=>{if(typeof e!="function")throw new TypeError(`hyperRTE: ${r} of type (${e?.constructor?.name}), expected (Function)`)},"checkfn"),C=s((e,r)=>{if(!Array.isArray(e))throw new TypeError(`hyperRTE: ${r} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr"),W=s((e,r)=>{if(typeof e!="number")throw new TypeError(`hyperRTE: ${r} of type (${e?.constructor?.name}), expected (Number)`);if(!Number.isInteger(e))throw new TypeError(`hyperRTE: ${r} is (${e}), expected integer`)},"checkpInt");var Z=s(e=>(e.forEach((r,t)=>{if(!(r instanceof Node))throw new TypeError(`hyperRTE: element at index (${t}) of type (${r?.constructor?.name}), expected (Element)`)}),e),"checkEls"),Se=/[a-z]/,Ae=s((e,r=document,t)=>{if(typeof e=="string"){if(e[0]?.match(Se))return[b(e,r instanceof Node?[]:r,t)];if(e[0]==="<"){let n=document.createElement("div");return n.innerHTML=e,Array.from(n.children)}return M(r,"root"),Array.from(r.querySelectorAll(e))}if(e instanceof Element)return[e];if(Array.isArray(e))return Z(e);if(e?.length!==void 0)return Z(Array.from(e));throw new TypeError(`hyperRTE: a of type (${e?.constructor?.name}), expected (String) or (Element) or (ArrayLike)}`)},"$el"),b=s((e,r={},t=[])=>{h(e,"tag"),C(t,"children");var n=document.createElement(e);for(let i in r){let a=r[i];if(i==="text")n.innerText=a;else if(i==="classList")n.classList=Array.isArray(a)?a.join(" "):a;else if(i==="style")Object.assign(n.style,a);else if(i==="attr")for(let o in a)n.setAttribute(o,a[o]);else if(i==="events")for(let o in a)n.addEventListener(o,a[o]);else n[i]=a}return n.append(...t),n},"create"),m=s((e,r=document)=>(h(e,"query"),M(r,"root"),Array.from(r.querySelectorAll(e))),"query"),d=s((e,r=!1)=>{h(e,"string");var t=document.createElement("div");return t.innerHTML=e,!r&&t.children.length===1?t.children[0]:Array.from(t.children)},"construct"),Q=Ae;var I=class{static{s(this,"EventEmmiter")}constructor(r={},t={}){this.opts={addUndifined:!0,...r},this.events={};for(let n in t)this.add(n),C(t[n],"listners"),t[n].forEach(i=>this.on(n,i))}add(r){if(h(r,"name"),r in this.events)throw new ReferenceError(`events: adding defined event (${r})`);return this.events[r]=[],this}has(r){return h(r,"name"),r in this.events}on(r,t){if(typeof r=="object"){for(let n in r)this.on(n,r[n]);return this}if(h(r,"name"),E(t,"listner"),r in this.events)this.events[r].push(t);else if(this.opts.addUndifined)this.events[r]=[t];else throw new ReferenceError(`events: undefined event (${r})`);return this}off(r,t){if(h(r,"name"),E(t,"listner"),r in this.events)t?this.events[r].splice(this.events[r].indexOf(t),1):this.events[r]=[];else throw new ReferenceError(`events: undefined event (${r})`);return this}once(r,t){h(r,"name"),E(t,"listner");var n=s((...i)=>{t(...i),this.off(r,n)},"onceFn");return this.on(r,n)}trigger(r,...t){if(h(r,"name"),r in this.events)this.events[r].forEach(n=>n(...t));else throw new ReferenceError(`events: undefined event (${r})`);return this}};var ee=s((e,r)=>{var t=e.mainEl=Q(r)[0];if(!t)throw new Error(`HyperRTE: no element with selector (${r})`);t.classList.add("hrte");var n=e.toolbarEl=d('<div class="hrte-toolbar">');t.append(n);var i=e.contentEl=d('<div class="hrte-content">');t.append(i),i.contentEditable=!0,i.addEventListener("keyup",()=>e.trigger("stateChange")),i.addEventListener("mouseup",()=>e.trigger("stateChange")),i.addEventListener("input",a=>e.trigger("input",a)),i.addEventListener("cut",a=>e.trigger("cut",a)),i.addEventListener("copy",a=>e.trigger("copy",a)),i.addEventListener("paste",a=>e.trigger("paste",a))},"constructMainUI"),te=s((e,r)=>{var{buttons:t,toolbarEl:n}=e;r.forEach(i=>{if(i==="separator")return n.append(d("<span class='hrte-button-separator'>&nbsp;</span>"));var a=t[i];if(!a)throw new TypeError(`HyperRTE: undefined button (${i})`);var{title:o,creator:c,state:f,action:p}=a,x=d(`<button class='hrte-button' title='${o||""}'>`);c(x,e),p&&x.addEventListener("click",v=>{e.contentEl.focus(),e.doAction(i,p)}),f&&e.on("stateChange",()=>f(e,x)?x.classList.add("hrte-button-selected"):x.classList.remove("hrte-button-selected")),n.append(x)})},"constructToolbar");var U=s(e=>{e:if(e.children.length===1&&e.classList.contains("styled")){var r=e.children[0],t=e,n={};for(re(e,n);t.children.length===1&&t.childNodes.length===1&&r.tagName===t.tagName&&r.classList.contains("styled");)t=r,r=r.children[0],re(t,n);if(t===e)break e;Object.keys(n).forEach(i=>{t.classList.add("styled-"+i),t.style[i]=n[i]}),e.after(t),e.remove(),e=t}Array.from(e.children).forEach(i=>U(i))},"cleanStyles"),re=s((e,r)=>Array.from(e.classList).filter(t=>t.startsWith("styled-")).map(t=>{var n=t.slice(7);r[n]=e.style[n]}),"handleStyles");var N=s(e=>{w(e,"element"),e.after(...e.childNodes),e.remove()},"unwrap"),G=s(()=>{var e=getSelection();if(e.rangeCount){var r=e.getRangeAt(0),t=r.startContainer;for(t.nodeType!==t.ELEMENT_NODE&&(t=t.parentElement);!t.hasAttribute("contenteditable");){if(t===document.body)return;t=t.parentElement}return t}},"getContainer"),J=s((e,r,t)=>{w(e,"element"),r&&M(r,"offset element"),t&&w(t,"offset parent");var n=e.cloneNode(!1),i=Array.from(e.childNodes),a=!1;for(let o=0;o<i.length;o++){let c=i[o];(a||c===r)&&(a=!0,n.append(c))}return t?t.prepend(n):e.after(n),n},"splitEl"),B=s((e,r)=>{h(e,"tag"),r&&E(r,"function");var t=getSelection();if(t.rangeCount){var n=t.getRangeAt(0),i=G();if(i)for(var a=n.commonAncestorContainer;a!==i;){if(a.tagName===e.toUpperCase()&&(!r||r(a)))return a;a=a.parentElement}}},"getWrapped");var H=s((e,r,t=!0,n,i={})=>{w(e,"element"),h(r,"tag"),n&&E(n,"cleaner"),r=r.toLowerCase();var a=[...e.getElementsByTagName(r)];t&&e.tagName===r.toUpperCase()&&a.push(e),a=a.filter(o=>Array.from(o.classList).every(c=>c in P?P[c](o,i[c]):!0)),n&&(a=a.filter(n)),a.forEach(o=>N(o))},"clean"),q=s((e,r=[],t=[],n=[],i=new Set)=>{if(M(e,"node"),C(r,"doNotCleanTags"),e.nodeType===e.ELEMENT_NODE){var a=Array.from(e.childNodes),o=e.tagName.toLowerCase();if(n.includes(o))return;r.includes(o)||(e.childNodes.length===0?e.remove():t.includes(o)||(e.tagName===e.previousSibling?.tagName?(e.previousSibling.append(...a),e.remove()):i.has(o)&&!Array.from(e.classList).some(c=>c in P)&&(e.after(...a),e.remove()))),a.forEach(c=>q(c,r,t,n,new Set([...i,o])))}else e.nodeType===3&&(e.textContent===""?e.remove():e.previousSibling?.nodeType===e.TEXT_NODE&&(e.previousSibling.textContent+=e.textContent,e.remove()))},"cleanDom"),P={styled(e,r){if(!r)return!1;var[t,n]=r;return e.classList.contains(n+"-"+t)&&(e.classList.remove(n+"-"+t),e.style[t]=""),[...e.classList].reduce((i,a)=>a.startsWith(n)?i+1:i,0)===1}};var Le={unwrap:N,getContainer:G,splitEl:J,getWrapped:B,clean:H,cleanDom:q,cleanMap:P,isWrappedWith(e,r){return!!B(e,r)},surround(e,r=!0,t,n){w(e,"wrapper");var i=getSelection();if(!i.rangeCount)return{success:!1};var a=i.getRangeAt(0);return e.append(...a.cloneContents().childNodes),a.deleteContents(),r&&H(e,e.tagName,!1,t,n),a.insertNode(e),{success:!0,type:"surround",node:e}},undo(e,r,t){var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0),a=i.cloneContents();i.deleteContents();var o=document.createElement("span");o.append(a),H(o,e,!1,r,t),i.insertNode(o);var c=B(e,r);if(!c){var k=o.childNodes[0],u=o.childNodes[o.childNodes.length-1];return N(o),i.setStartBefore(k),i.setEndAfter(u),{success:!0,type:"undo"}}for(var f=o,p=[f];f!==c;)f=f.parentElement,p.unshift(f);var x;p.forEach((g,y)=>{g!==c&&(x=J(g.parentElement,g.nextSibling,x))});var v=p.reduce((g,y,S)=>{if(S===p.length-1)return g;var L=y.cloneNode(!1);return g===c?g.after(L):g.append(L),L});v===c?c.after(o):v.append(o);var k=o.childNodes[0],u=o.childNodes[o.childNodes.length-1];return N(o),i.setStartBefore(k),i.setEndAfter(u),{success:!0,type:"undo"}},replace(e="",r="text",t=!1){h(r,"replace type");var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0);if(i.deleteContents(),r==="node")i.insertNode(e);else{h(e,"topaste");let a=document.createElement("span");if(r==="text")a.innerText=e;else if(r==="html")a.innerHTML=e;else throw new TypeError("edit: undefined replace type ("+r+")");i.insertNode(a),t&&t(a)}return{success:!0,type:"replace"}},applyCss(e,r,t="span",n="styled",i=!0,a){h(e,"property"),h(r,"value");var o=document.createElement(t);return o.classList.add(n),o.classList.add(n+"-"+e),o.style[e]=r,this.surround(o,i,a,{styled:[e,n]})},copy(){var e=getSelection();if(!e.rangeCount)return"";var r=e.getRangeAt(0),t=document.createElement("div");return t.append(r.cloneContents()),t.innerHTML},cut(){var e=getSelection();if(!e.rangeCount)return"";var r=e.getRangeAt(0),t=document.createElement("div");return t.append(r.extractContents()),t.innerHTML},delete(){var e=getSelection();if(!e.rangeCount)return{success:!1};var r=e.getRangeAt(0);return r.deleteContents(),{success:!0,type:"delete"}},insert(e,r="text",t=!1){h(r,"insert type");var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0);if(r==="node")i.insertNode(e);else{h(e,"toinsert");var a=document.createElement("span");if(r==="text")a.innerText=e;else if(r==="html")a.innerHTML=e;else throw new Error("edit: undefined insert type ("+r+")");i.insertNode(a),t&&t(a)}return{success:!0,type:"insert"}},toggle(e,r=0,t,n,i){var a;if(e?.nodeType?(a=e,e=e.tagName.toLowerCase()):a=document.createElement(e),r===0)return this.isWrappedWith(e)?this.undo(e,n,i):this.surround(a,t,n,i);if(r===1)return this.surround(a,t,n,i);if(r===2)return this.undo(e,n,i);throw new Error("edit: toggle type is ("+r+"), expected 0, 1, or 2")},removeFormat(e=["b","i","u","s","sup","sub","span","div"]){C(e,"tagNames");var r=getSelection();if(!r.rangeCount)return{success:!1};var t=r.getRangeAt(0),n=r.toString();return t.deleteContents(),t.insertNode(new Text(n)),e.forEach(i=>this.undo(i)),{success:!0,type:"remove-format"}},getSelectedElement(){var e=getSelection();if(e.rangeCount){var r=e.getRangeAt(0).commonAncestorContainer;return r.nodeType===3?r.parentNode:r}},selectParagraph(){var e=getSelection();if(!e.rangeCount)return{success:!1};var r=e.getRangeAt(0),t=B("p");return t?(r.selectNode(t),{success:!0,type:"select"}):this.selectAll()},selectAll(){var e=getSelection();if(!e.rangeCount)return{success:!1};var r=e.getRangeAt(0),t=this.getContainer();return r.setStartBefore(t.firstChild),r.setEndAfter(t.lastChild),{success:!0,type:"select"}},bold(e){return this.toggle("b",e)},underline(e){return this.toggle("u",e)},italic(e){return this.toggle("i",e)},strikeThrough(e){return this.toggle("s",e)},subscript(e){return this.toggle("sub",e)},superscript(e){return this.toggle("sup",e)},backColor(e){return this.applyCss("background-color",e||"")},fontColor(e){return this.applyCss("color",e||"")},fontName(e){return this.applyCss("font-family",e||"")},fontSize(e){return this.applyCss("font-size",e||"")},link(e,r=!1){h(e,"url");var t=document.createElement("a");return t.href=e,r&&this.isWrappedWith("a")?this.undo("a"):this.surround(t)},img(e){h(e,"url");var r=document.createElement("img");return r.src=e,this.insert(r,"node")},heading(e=1,r){return this.toggle("h"+e,r)},orderedList(){var e=this.surround(document.createElement("li")),r=document.createElement("ol");return e.node.before(r),r.append(e.node),e},unorderedList(){var e=this.surround(document.createElement("li")),r=document.createElement("ul");return e.node.before(r),r.append(e.node),e},block(e){return this.toggle("div",e)},inline(e){return this.toggle("span",e)},paragraph(){var e=B("p");return e?(N(e),{success:!0,type:"undo"}):this.surround(document.createElement("p"))},quote(e){return this.toggle("q",e)},indent(e){return this.selectParagraph(),this.applyCss("text-indent",e||"","div")},align(e){return this.selectParagraph(),this.applyCss("text-align",e||"","div")},direction(e){return this.applyCss("direction",e||"","div")},hr(){return this.insert(document.createElement("hr"),"node")}},l=Le;var $=s((e=!0)=>{var r=d("<span class='hrte-dropDown'>"),t=s(a=>{e&&!r.contains(a.target)&&i()},"clickListner"),n=s(()=>{r.classList.add("hrte-dropDown-open"),document.body.addEventListener("click",t)},"open"),i=s(()=>{document.body.removeEventListener("click",t),r.classList.remove("hrte-dropDown-open")},"close");return[r,n,i]},"createDropDown"),ne=s((e=!0)=>{var r=d("<span class='hrte-dialog'>"),t=s(a=>{e&&!r.contains(a.target)&&i()},"clickListner"),n=s(()=>{r.classList.add("hrte-dialog-open"),document.body.addEventListener("click",t)},"open"),i=s(()=>{document.body.removeEventListener("click",t),r.classList.remove("hrte-dialog-open")},"close");return[r,n,i]},"createDialog"),A=s((e,r,t)=>{var{title:n,icon:i,data:a,item:o,action:c,state:f}=t;C(a,"data"),h(i,"icon"),E(o,"item transformer"),E(c,"action"),e.addButton(r,{title:n,state:f,creator:p=>{var[x,v,k]=$();a.forEach((g,y)=>{y!==0&&x.append(d("<div class='hrte-list-separator'>"));var S=d("<div class='hrte-list-item'>");S.append(o(g,e)),S.addEventListener("click",()=>{k(),u(),e.doAction(r,()=>c(g,e))}),x.append(S)});var u;p.addEventListener("click",g=>{g.stopPropagation(),u=e.captureSelection(),v()}),e.toolbarEl.append(x),p.append(d(i))}})},"addList"),T=s((e,r,t)=>{var{title:n,icon:i,action:a,state:o,type:c,reset:f,...p}=t;h(i,"icon"),h(i,"type"),E(a,"action"),e.addButton(r,{title:n,state:o,creator:x=>{var[v,k,u]=$(),g;x.addEventListener("click",z=>{z.stopPropagation(),g=e.captureSelection(),k()});var y=d(c==="textarea"?"<textarea>":"<input>");c!=="textarea"&&(y.type=c),Object.assign(y,p);var S=d('<span class="hrte-button2">apply</span>');if(S.addEventListener("click",()=>{u(),g(),e.doAction(r,()=>a(y.value,e))}),f){var L=d('<span class="hrte-button2">remove</span>');L.addEventListener("click",()=>{u(),g(),e.doAction(r,()=>a("initial",e))})}else var L="";v.append(y,b("div",{},[S,L])),e.toolbarEl.append(v),x.append(d(i))}})},"addInput"),D=s((e,r,t)=>T(e,r,{type:"number",...t}),"addNumber"),j=s((e,r,t)=>T(e,r,{type:"color",reset:!0,...t}),"addColor"),K=s((e,r,t)=>{var{title:n,icon:i,action:a,state:o,inputs:c}=t;C(c,"inputs"),E(a,"action"),e.addButton(r,{title:n,state:o,creator:f=>{var[p,x,v]=$(),k;f.addEventListener("click",y=>{y.stopPropagation(),k=e.captureSelection(),x()});var u=c.map(y=>{var S=b("input");return Object.assign(S,y),S}),g=d('<span class="hrte-button2">apply</span>');g.addEventListener("click",()=>{v(),k(),e.doAction(r,()=>a(...u.map(y=>y.value),e))}),p.append(...u,b("div",{},[g])),e.toolbarEl.append(p),f.append(d(i))}})},"addInputs"),ie=s((e,r,t)=>{var{title:n,icon:i,creator:a}=t;E(a,"creator");var o=s(()=>{c.style.display="none",e.toolbarEl.style.display="",e.contentEl.style.display="",e.trigger("showMain")},"back"),[c,f]=a(e,o);c.classList.add("hrte-panel"),c.style.display="none",e.mainEl.append(c),e.addButton(r,{title:n,creator:p=>{p.append(d(i)),p.addEventListener("click",()=>{c.style.display="",e.toolbarEl.style.display="none",e.contentEl.style.display="none",e.trigger("hideMain"),f(e)})}})},"addPanel"),Te=s((e,r)=>{var[t,n,i]=$(),a,o=!0;for(let f in r){E(r[f],"menu item ("+f+")");let p=d(`<div class='hrte-list-item'>${f}`);p.addEventListener("click",()=>{a(),r[f](e),i()}),o||t.append(d("<div class='hrte-list-separator'>")),t.append(p),o=!1}var c=s(()=>{a=e.captureSelection(),n()},"open");return[t,c,i]},"createMenu"),F=s((e,r,t)=>{var{title:n,state:i,icon:a,...o}=t;h(a,"icon"),e.addButton(r,{title:n,state:i,creator:c=>{var[f,p]=Te(e,o);c.addEventListener("click",x=>{x.stopPropagation(),p()}),e.toolbarEl.append(f),c.append(d(a))}})},"addMenu");var R=class{static{s(this,"HyperRTE")}buttons={};events=new I;constructor(r){var{el:t,plugins:n,toolbar:i,icons:a,clean:o}={el:null,plugins:[],toolbar:[],icons:"./icons/",clean:{cleanAfterAction:!0,doNotMergeTags:["div","span","p","li","ul","ol","a","mark"],doNotCleanTags:["hr","br","img","video","iframe","td","tr","table","caption"],skipTags:["svg","math"]},...r},{cleanAfterAction:c,doNotCleanTags:f,doNotMergeTags:p,skipTags:x}=o;this.cleanAfterAction=c,h(a,"icons path"),this.icons=a,C(f,"doNotCleanTags"),this.doNotCleanTags=f,C(p,"doNotMergeTags"),this.doNotMergeTags=p,C(x,"skipTags"),this.skipTags=x,["stateChange","beforeAction","afterAction","input","cut","copy","paste","export","showMain","hideMain"].forEach(v=>this.events.add(v)),ee(this,t),C(n,"plugins"),n.forEach(v=>{E(v,"plugin"),v(this,r)}),C(i,"toolbar"),i.length===0&&(i=Object.keys(this.buttons)),te(this,i)}on(r,t){this.events.on(r,t)}off(r,t){this.events.off(r,t)}once(r,t){this.events.once(r,t)}trigger(r,...t){this.events.trigger(r,this,...t)}doAction(r,t,n=!1){h(r,"action name"),E(t,"handler"),!(!n&&!this.contentEl.contains(document.activeElement))&&(this.trigger("beforeAction",r),t(this),this.cleanAfterAction&&this.clean(),this.trigger("afterAction",r),this.contentEl.focus(),this.trigger("stateChange"))}get content(){return this.contentEl.innerHTML}set content(r){this.contentEl.innerHTML=r}clean(){this.contentEl.childNodes.length!==0&&(l.cleanDom(this.contentEl,this.doNotCleanTags,this.doNotMergeTags,this.skipTags),U(this.contentEl))}focus(){this.contentEl.focus()}export(){var r=this.contentEl.cloneNode(!0);return m(".styled",r).forEach(t=>Array.from(t.classList).forEach(n=>n.startsWith("styled")&&t.classList.remove(n))),this.trigger("export",r),r.innerHTML}captureSelection(){var r=getSelection();if(!r.rangeCount)return()=>{};var t=r.getRangeAt(0).cloneRange();return()=>{r.removeAllRanges(),r.addRange(t)}}addButton(r,t){if(h(r,"button name"),!t)throw new TypeError(`HyperRTE: definition of type (${t}), expected (Object)`);var{title:n,icon:i,creator:a,state:o,action:c}=t;h(n,"title"),i&&(h(i,"icon"),a=s(f=>f.append(d(i)),"creator")),E(a,"creator"),o&&E(o,"state"),c&&E(c,"action"),this.buttons[r]={title:n,creator:a,state:o,action:c}}};var ae=s((e,r)=>{e.addButton("clean",{title:"clean the dom",icon:`<img src='${e.icons}clean.svg'>`,action:()=>e.clean()}),e.addButton("remove format",{title:"remove format",icon:`<img src='${e.icons}remove-format.svg'>`,action:()=>l.removeFormat()}),e.addButton("select paragraph",{title:"select paragraph",icon:`<img src='${e.icons}select-paragraph.svg'>`,action:()=>l.selectParagraph()}),e.addButton("select all",{title:"select all",icon:`<img src='${e.icons}select-all.svg'>`,action:()=>l.selectAll()})},"default");var oe=s((e,r)=>{e.addButton("bold",{title:"toggle bold",icon:`<img src='${e.icons}bold.svg'>`,state:()=>l.isWrappedWith("b"),action:()=>l.bold()}),e.addButton("italic",{title:"toggle italic",icon:`<img src='${e.icons}italic.svg'>`,state:()=>l.isWrappedWith("i"),action:()=>l.italic()}),e.addButton("underline",{title:"toggle underline",icon:`<img style='height:calc(var(--vd) * 1.2)' src='${e.icons}underline.svg'>`,state:()=>l.isWrappedWith("u"),action:()=>l.underline()}),e.addButton("strikethrough",{title:"toggle strikethrough",icon:`<img src='${e.icons}strikethrough.svg'>`,state:()=>l.isWrappedWith("s"),action:()=>l.strikeThrough()}),e.addButton("subscript",{title:"toggle subscript",icon:`<img src='${e.icons}subscript.svg'>`,state:()=>l.isWrappedWith("sub"),action:()=>l.subscript()}),e.addButton("superscript",{title:"toggle superscript",icon:`<img src='${e.icons}superscript.svg'>`,state:()=>l.isWrappedWith("sup"),action:()=>l.superscript()})},"default");var se=s((e,r)=>{var t=r.fonts||["default","cursive","monospace","serif","sans-serif","fantasy","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Bookman Old Style","Bradley Hand ITC","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Georgia","Gentium","Impact","King","Lucida Console","Lalit","Modena","Monotype Corsiva","Papyrus","Tahoma","TeX","Times","Times New Roman","Trebuchet MS","Verdana","Verona"];C(t,"fonts"),D(e,"font size",{title:"change font size",icon:`<img src='${e.icons}font-size.svg'>`,placeholder:"size",min:1,action:n=>l.fontSize(n==="initial"?n:n+"px"),reset:!0}),A(e,"font family",{title:"change font family",icon:`<img src='${e.icons}font-family.svg'>`,data:t,item:n=>d(`<span style='font-family: "${n}"'>${n}`),action:n=>l.fontName(n==="default"?"initial":n)}),j(e,"font color",{title:"change font color",icon:`<img src='${e.icons}font-color.svg'>`,action:n=>l.fontColor(n)}),j(e,"background color",{title:"change backColor color",icon:`<img src='${e.icons}back-color.svg'>`,action:n=>l.backColor(n)})},"default");var ce=s((e,r)=>{e.addButton("paragraph",{title:"toogle paragraph",icon:`<img src='${e.icons}paragraph.svg'>`,action:()=>l.paragraph(),state:()=>l.isWrappedWith("p")}),e.addButton("quote",{title:"add quote",icon:`<img src='${e.icons}quote.svg'>`,action:()=>l.quote(),state:()=>l.isWrappedWith("q")}),A(e,"heading",{title:"add heading",icon:`<img src='${e.icons}heading.svg'>`,data:[1,2,3,4,5,6],item:t=>d(`<h${t}>size ${t}`),action:t=>l.heading(t),state:()=>[1,2,3,4,5,6].some(t=>l.isWrappedWith("h"+t))}),e.addButton("unordered list",{title:"add unordered list",icon:`<img src='${e.icons}ulist.svg'>`,action:()=>l.unorderedList(),state:()=>l.isWrappedWith("ul")}),e.addButton("ordered list",{title:"add ordered list",icon:`<img src='${e.icons}olist.svg'>`,action:()=>l.orderedList(),state:()=>l.isWrappedWith("ol")}),e.addButton("horizantal rule",{title:"add horizantal rule",icon:`<img src='${e.icons}hr.svg'>`,action:()=>l.hr(),state:()=>l.isWrappedWith("hr")})},"default");var le=s((e,r)=>{A(e,"align",{title:"change text aligning",icon:`<img src='${e.icons}align-justify.svg'>`,data:["left","right","center","justify"],item:t=>d(`<img title=${t} style='width: calc(var(--vd) * 1.5' src='${e.icons}align-${t}.svg'>`),action:t=>l.align(t),state:(t,n)=>{n.children[0].src=`${t.icons}align-${l.getWrapped("div",i=>i.style.textAlign!=="")?.style?.textAlign||"justify"}.svg`}}),D(e,"indent",{title:"change text indent",icon:`<img src='${e.icons}indent.svg'>`,placeholder:"size",min:1,action:t=>l.indent(t==="initial"?t:t+"px"),reset:!0}),A(e,"direction",{title:"change text direction",icon:`<img src='${e.icons}direction-ltr.svg'>`,data:["ltr","rtl"],item:t=>d(`<img title=${t==="ltr"?"left":"right"} style='width: calc(var(--vd) * 1.5' src='${e.icons}direction-${t}.svg'>`),action:t=>l.direction(t),state:(t,n)=>{n.children[0].src=`${t.icons}direction-${l.getWrapped("div",i=>i.style.direction!=="")?.style?.direction||"ltr"}.svg`}})},"default");var de=s((e,r)=>{T(e,"image",{title:"add image",icon:`<img src='${e.icons}image.svg'>`,type:"url",placeholder:"insert url",action:t=>l.insert(d(`<img src='${t}' class=resizable>`),"node")}),T(e,"link",{title:"add link",icon:`<img src='${e.icons}link.svg'>`,type:"url",placeholder:"insert url",reset:!0,action:t=>t==="initial"?l.undo("a"):l.link(t),state:()=>l.isWrappedWith("a")}),T(e,"video",{title:"add video",icon:`<img src='${e.icons}video.svg'>`,type:"url",placeholder:"insert url",action:t=>l.insert(d(`<video src='${t}' class=resizable>`),"node")}),T(e,"iframe",{title:"add iframe",icon:`<img src='${e.icons}iframe.svg'>`,type:"url",placeholder:"insert url",action:t=>l.insert(d(`<iframe src='${t}' class=resizable>`),"node")})},"default");var fe=Symbol("checked"),we=s(e=>{var r=e.target;if(!r.parentElement.classList.contains("resizable-container")){var t=d("<div class='resizable-container'>");r.after(t),t.append(r),r.style.width&&(t.style.width=r.style.width),r.style.height&&(t.style.height=r.style.height),r.style.width="100%",r.style.height="100%";var n=s(i=>{t!==i.target&&(r.style.width=t.style.width,r.style.height=t.style.height,t.after(r),t.remove(),document.body.removeEventListener("click",n))},"listner");setTimeout(()=>document.body.addEventListener("click",n),1)}},"handleResize"),$e=s(e=>m(".resizable",e).forEach(r=>{r[fe]||(r.addEventListener("click",we),r[fe]=!0)}),"attach"),pe=s((e,r)=>{e.on("afterAction",t=>$e(t.contentEl)),e.on("export",(t,n)=>m(".resizable",n).forEach(i=>i.classList.remove("resizable")))},"default");var xe=s((e,r)=>{var t=r.clipboard||10;W(t,"clipboard size"),e.clipboard=Array.from({length:t},()=>""),A(e,"copy",{title:"copy to clipboard",icon:`<img src='${e.icons}copy.svg'>`,data:Array.from({length:t},(n,i)=>i),item:n=>d(`<span>item ${n+1}`),action:(n,i)=>{var a=getSelection().toString(),o=l.copy();i.clipboard[n]=o,i.trigger("copy",o),navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([o],{type:"text/html"}),"text/plain":new Blob([a],{type:"text/plain"})})])}}),A(e,"cut",{title:"cut to clipboard",icon:`<img src='${e.icons}cut.svg'>`,data:Array.from({length:t},(n,i)=>i),item:n=>d(`<span>item ${n+1}`),action:(n,i)=>{var a=getSelection().toString(),o=l.cut();i.clipboard[n]=o,i.trigger("cut",o),navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([o],{type:"text/html"}),"text/plain":new Blob([a],{type:"text/plain"})})])}}),A(e,"paste",{title:"paste from clipboard",icon:`<img src='${e.icons}paste.svg'>`,data:Array.from({length:t},(n,i)=>i),item:n=>d(`<span>item ${n+1}`),action:(n,i)=>{var a=i.clipboard[n];l.insert(a,"html"),i.trigger("paste",a)}}),A(e,"paste text",{title:"paste as text from clipboard",icon:`<img src='${e.icons}paste-text.svg'>`,data:Array.from({length:t},(n,i)=>i),item:n=>d(`<span>item ${n+1}`),action:(n,i)=>{var a=document.createElement("div");a.innerHTML=i.clipboard[n];var o=a.innerText;l.insert(o,"text"),i.trigger("paste",o)}})},"default");var V=class{static{s(this,"History")}constructor(r,t){this.rte=r,W(t,"history size"),this.stackSize=t,this.stack=[""],this.index=0}get canUndo(){return this.index!==0}get canRedo(){return this.index!==this.stack.length-1}push(){this.stack=this.stack.slice(0,this.index+1),this.stack.push(this.rte.content),this.stack.length>this.stackSize&&this.stack.shift(),this.index=this.stack.length-1}undo(){this.canUndo&&(this.index--,this.rte.content=this.stack[this.index])}redo(){this.canRedo&&(this.index++,this.rte.content=this.stack[this.index])}},ue=s((e,r)=>{var{size:t,skipActions:n}={size:20,skipActions:["undo","redo","copy","clean","select paragraph","select all","info"],...r.history};e.history=new V(e,t),C(n,"skip actions"),e.addButton("undo",{title:"undo action",icon:`<img src='${e.icons}undo.svg'>`,state:o=>o.history.canUndo,action:o=>o.history.undo()}),e.addButton("redo",{title:"redo action",icon:`<img src='${e.icons}redo.svg'>`,state:o=>o.history.canRedo,action:o=>o.history.redo()});var i=!1,a=0;e.on("input",()=>{i=!0,clearTimeout(a),a=setTimeout(()=>{i&&e.history.push(),i=!1},2500)}),e.on("beforeAction",()=>{i&&e.history.push(),i=!1}),e.on("afterAction",(o,c)=>{n.includes(c)||o.history.push()})},"default");var he=s((e,r)=>{K(e,"table",{title:"insert table",icon:`<img src='${e.icons}table.svg'>`,inputs:[{type:"number",min:1,placeholder:"rows"},{type:"number",min:1,placeholder:"columns"}],action:(t,n)=>{t=Number(t),n=Number(n);var i=b("table");for(let a=0;a<t;a++){let o=b("tr");for(let c=0;c<n;c++)o.append(b("td",{innerHTML:"&nbsp;"}));i.append(o)}l.insert(i,"node")}}),F(e,"row",{title:"table row actions",icon:`<img src='${e.icons}row.svg'>`,"add row before":()=>{var t=l.getWrapped("tr");if(t){var n=b("tr");n.append(...Array.from(t.children).map(()=>b("td",{innerHTML:"&nbsp;"}))),e.doAction("add row before",()=>t.before(n))}},"add row after":()=>{var t=l.getWrapped("tr");if(t){var n=b("tr");n.append(...Array.from(t.children).map(()=>b("td",{innerHTML:"&nbsp;"}))),e.doAction("add row after",()=>t.after(n))}},"remove row":()=>{var t=l.getWrapped("tr");t&&e.doAction("remove row",()=>t.remove())}}),F(e,"column",{title:"table column actions",icon:`<img src='${e.icons}column.svg'>`,"add column before":()=>{var t=l.getWrapped("table");if(t){var n=l.getWrapped("td"),i=[].indexOf.call(n.parentElement.children,n);e.doAction("add column before",()=>{Array.from(t.rows).forEach(a=>a.children[i].before(b("td",{innerHTML:"&nbsp;"})))})}},"add column after":()=>{var t=l.getWrapped("table");if(t){var n=l.getWrapped("td"),i=[].indexOf.call(n.parentElement.children,n);e.doAction("add column before",()=>{Array.from(t.rows).forEach(a=>a.children[i].after(b("td",{innerHTML:"&nbsp;"})))})}},"remove column":()=>{var t=l.getWrapped("table");if(t){var n=l.getWrapped("td"),i=[].indexOf.call(n.parentElement.children,n);e.doAction("add column before",()=>{Array.from(t.rows).forEach(a=>a.children[i].remove())})}}}),T(e,"table caption",{title:"add table caption",icon:`<img src='${e.icons}table-caption.svg'>`,type:"textarea",placeholder:"insert text",action:t=>{var n=l.getWrapped("table");n&&n.prepend(b("caption",{innerHTML:t||"&nbsp;"}))}})},"default");var me=s((e,r)=>{var t=r.sanitizer;t===void 0?t=s(n=>{var i=b("span");return i.innerHTML=n,i},"sanitizer"):t===!0&&(t=s(n=>{var i=b("span");return i.setHTML(n),i},"sanitizer")),E(t,"sanitizer"),e.sanitizer=t,T(e,"insert html",{title:"insert html",icon:`<img src='${e.icons}insert-html.svg'>`,type:"textarea",placeholder:"insert html string",action:n=>l.insert(t(n),"node")}),ie(e,"source",{title:"edit source",icon:`<img src='${e.icons}source.svg'>`,creator:(n,i)=>{var a=d(`<div>
				<div class='hrte-panel-header'>source</div>
				<div id=source contenteditable class='hrte-content'></div>
				<button id=source-save class="hrte-button2">save</button>
				<button id=source-close class="hrte-button2">close</button>
			`),o=m("#source",a)[0];m("#source-save",a)[0].addEventListener("click",()=>{n.doAction("source",()=>n.contentEl.replaceChildren(...t(o.innerText).childNodes),!0),i()}),m("#source-close",a)[0].addEventListener("click",()=>i());var c=s(()=>{o.innerText=n.content},"onopen");return[a,c]}})},"default");var ge={"Basic Latin":[0,127],"Latin-1 Supplement":[128,255],"Latin Extended-A":[256,383],"Latin Extended-B":[384,591],"IPA Extensions":[592,687],"Spacing Modifier Letters":[688,767],"Combining Diacritical Marks":[768,879],"Greek and Coptic":[880,1023],Cyrillic:[1024,1279],"Cyrillic Supplement":[1280,1327],Armenian:[1328,1423],Hebrew:[1424,1535],Arabic:[1536,1791],Syriac:[1792,1871],"Arabic Supplement":[1872,1919],Thaana:[1920,1983],NKo:[1984,2047],Samaritan:[2048,2111],Mandaic:[2112,2143],"Syriac Supplement":[2144,2159],"Arabic Extended-B":[2160,2207],"Arabic Extended-A":[2208,2303],Devanagari:[2304,2431],Bengali:[2432,2559],Gurmukhi:[2560,2687],Gujarati:[2688,2815],Oriya:[2816,2943],Tamil:[2944,3071],Telugu:[3072,3199],Kannada:[3200,3327],Malayalam:[3328,3455],Sinhala:[3456,3583],Thai:[3584,3711],Lao:[3712,3839],Tibetan:[3840,4095],Myanmar:[4096,4255],Georgian:[4256,4351],"Hangul Jamo":[4352,4607],Ethiopic:[4608,4991],"Ethiopic Supplement":[4992,5023],Cherokee:[5024,5119],"Unified Canadian Aboriginal Syllabics":[5120,5759],Ogham:[5760,5791],Runic:[5792,5887],Tagalog:[5888,5919],Hanunoo:[5920,5951],Buhid:[5952,5983],Tagbanwa:[5984,6015],Khmer:[6016,6143],Mongolian:[6144,6319],"Unified Canadian Aboriginal Syllabics Extended":[6320,6399],Limbu:[6400,6479],"Tai Le":[6480,6527],"New Tai Lue":[6528,6623],"Khmer Symbols":[6624,6655],Buginese:[6656,6687],"Tai Tham":[6688,6831],"Combining Diacritical Marks Extended":[6832,6911],Balinese:[6912,7039],Sundanese:[7040,7103],Batak:[7104,7167],Lepcha:[7168,7247],"Ol Chiki":[7248,7295],"Cyrillic Extended-C":[7296,7311],"Georgian Extended":[7312,7359],"Sundanese Supplement":[7360,7375],"Vedic Extensions":[7376,7423],"Phonetic Extensions":[7424,7551],"Phonetic Extensions Supplement":[7552,7615],"Combining Diacritical Marks Supplement":[7616,7679],"Latin Extended Additional":[7680,7935],"Greek Extended":[7936,8191],"General Punctuation":[8192,8303],"Superscripts and Subscripts":[8304,8351],"Currency Symbols":[8352,8399],"Combining Diacritical Marks for Symbols":[8400,8447],"Letterlike Symbols":[8448,8527],"Number Forms":[8528,8591],Arrows:[8592,8703],"Mathematical Operators":[8704,8959],"Miscellaneous Technical":[8960,9215],"Control Pictures":[9216,9279],"Optical Character Recognition":[9280,9311],"Enclosed Alphanumerics":[9312,9471],"Box Drawing":[9472,9599],"Block Elements":[9600,9631],"Geometric Shapes":[9632,9727],"Miscellaneous Symbols":[9728,9983],Dingbats:[9984,10175],"Miscellaneous Mathematical Symbols-A":[10176,10223],"Supplemental Arrows-A":[10224,10239],"Braille Patterns":[10240,10495],"Supplemental Arrows-B":[10496,10623],"Miscellaneous Mathematical Symbols-B":[10624,10751],"Supplemental Mathematical Operators":[10752,11007],"Miscellaneous Symbols and Arrows":[11008,11263],Glagolitic:[11264,11359],"Latin Extended-C":[11360,11391],Coptic:[11392,11519],"Georgian Supplement":[11520,11567],Tifinagh:[11568,11647],"Ethiopic Extended":[11648,11743],"Cyrillic Extended-A":[11744,11775],"Supplemental Punctuation":[11776,11903],"CJK Radicals Supplement":[11904,12031],"Kangxi Radicals":[12032,12255],"Ideographic Description Characters":[12272,12287],"CJK Symbols and Punctuation":[12288,12351],Hiragana:[12352,12447],Katakana:[12448,12543],Bopomofo:[12544,12591],"Hangul Compatibility Jamo":[12592,12687],Kanbun:[12688,12703],"Bopomofo Extended":[12704,12735],"CJK Strokes":[12736,12783],"Katakana Phonetic Extensions":[12784,12799],"Enclosed CJK Letters and Months":[12800,13055],"CJK Compatibility":[13056,13311],"CJK Unified Ideographs Extension A":[13312,19903],"Yijing Hexagram Symbols":[19904,19967],"CJK Unified Ideographs":[19968,40959],"Yi Syllables":[40960,42127],"Yi Radicals":[42128,42191],Lisu:[42192,42239],Vai:[42240,42559],"Cyrillic Extended-B":[42560,42655],Bamum:[42656,42751],"Modifier Tone Letters":[42752,42783],"Latin Extended-D":[42784,43007],"Syloti Nagri":[43008,43055],"Common Indic Number Forms":[43056,43071],"Phags-pa":[43072,43135],Saurashtra:[43136,43231],"Devanagari Extended":[43232,43263],"Kayah Li":[43264,43311],Rejang:[43312,43359],"Hangul Jamo Extended-A":[43360,43391],Javanese:[43392,43487],"Myanmar Extended-B":[43488,43519],Cham:[43520,43615],"Myanmar Extended-A":[43616,43647],"Tai Viet":[43648,43743],"Meetei Mayek Extensions":[43744,43775],"Ethiopic Extended-A":[43776,43823],"Latin Extended-E":[43824,43887],"Cherokee Supplement":[43888,43967],"Meetei Mayek":[43968,44031],"Hangul Syllables":[44032,55215],"Hangul Jamo Extended-B":[55216,55295],"High Surrogates":[55296,56191],"High Private Use Surrogates":[56192,56319],"Low Surrogates":[56320,57343],"Private Use Area":[57344,63743],"CJK Compatibility Ideographs":[63744,64255],"Alphabetic Presentation Forms":[64256,64335],"Arabic Presentation Forms-A":[64336,65023],"Variation Selectors":[65024,65039],"Vertical Forms":[65040,65055],"Combining Half Marks":[65056,65071],"CJK Compatibility Forms":[65072,65103],"Small Form Variants":[65104,65135],"Arabic Presentation Forms-B":[65136,65279],"Halfwidth and Fullwidth Forms":[65280,65519],Specials:[65520,65535],"Linear B Syllabary":[65536,65663],"Linear B Ideograms":[65664,65791],"Aegean Numbers":[65792,65855],"Ancient Greek Numbers":[65856,65935],"Ancient Symbols":[65936,65999],"Phaistos Disc":[66e3,66047],Lycian:[66176,66207],Carian:[66208,66271],"Coptic Epact Numbers":[66272,66303],"Old Italic":[66304,66351],Gothic:[66352,66383],"Old Permic":[66384,66431],Ugaritic:[66432,66463],"Old Persian":[66464,66527],Deseret:[66560,66639],Shavian:[66640,66687],Osmanya:[66688,66735],Osage:[66736,66815],Elbasan:[66816,66863],"Caucasian Albanian":[66864,66927],Vithkuqi:[66928,67007],"Linear A":[67072,67455],"Latin Extended-F":[67456,67519],"Cypriot Syllabary":[67584,67647],"Imperial Aramaic":[67648,67679],Palmyrene:[67680,67711],Nabataean:[67712,67759],Hatran:[67808,67839],Phoenician:[67840,67871],Lydian:[67872,67903],"Meroitic Hieroglyphs":[67968,67999],"Meroitic Cursive":[68e3,68095],Kharoshthi:[68096,68191],"Old South Arabian":[68192,68223],"Old North Arabian":[68224,68255],Manichaean:[68288,68351],Avestan:[68352,68415],"Inscriptional Parthian":[68416,68447],"Inscriptional Pahlavi":[68448,68479],"Psalter Pahlavi":[68480,68527],"Old Turkic":[68608,68687],"Old Hungarian":[68736,68863],"Hanifi Rohingya":[68864,68927],"Rumi Numeral Symbols":[69216,69247],Yezidi:[69248,69311],"Arabic Extended-C":[69312,69375],"Old Sogdian":[69376,69423],Sogdian:[69424,69487],"Old Uyghur":[69488,69551],Chorasmian:[69552,69599],Elymaic:[69600,69631],Brahmi:[69632,69759],Kaithi:[69760,69839],"Sora Sompeng":[69840,69887],Chakma:[69888,69967],Mahajani:[69968,70015],Sharada:[70016,70111],"Sinhala Archaic Numbers":[70112,70143],Khojki:[70144,70223],Multani:[70272,70319],Khudawadi:[70320,70399],Grantha:[70400,70527],Newa:[70656,70783],Tirhuta:[70784,70879],Siddham:[71040,71167],Modi:[71168,71263],"Mongolian Supplement":[71264,71295],Takri:[71296,71375],Ahom:[71424,71503],Dogra:[71680,71759],"Warang Citi":[71840,71935],"Dives Akuru":[71936,72031],Nandinagari:[72096,72191],"Zanabazar Square":[72192,72271],Soyombo:[72272,72367],"Unified Canadian Aboriginal Syllabics Extended-A":[72368,72383],"Pau Cin Hau":[72384,72447],"Devanagari Extended-A":[72448,72543],Bhaiksuki:[72704,72815],Marchen:[72816,72895],"Masaram Gondi":[72960,73055],"Gunjala Gondi":[73056,73135],Makasar:[73440,73471],Kawi:[73472,73567],"Lisu Supplement":[73648,73663],"Tamil Supplement":[73664,73727],Cuneiform:[73728,74751],"Cuneiform Numbers and Punctuation":[74752,74879],"Early Dynastic Cuneiform":[74880,75087],"Cypro-Minoan":[77712,77823],"Egyptian Hieroglyphs":[77824,78895],"Egyptian Hieroglyph Format Controls":[78896,78943],"Anatolian Hieroglyphs":[82944,83583],"Bamum Supplement":[92160,92735],Mro:[92736,92783],Tangsa:[92784,92879],"Bassa Vah":[92880,92927],"Pahawh Hmong":[92928,93071],Medefaidrin:[93760,93855],Miao:[93952,94111],"Ideographic Symbols and Punctuation":[94176,94207],Tangut:[94208,100351],"Tangut Components":[100352,101119],"Khitan Small Script":[101120,101631],"Tangut Supplement":[101632,101759],"Kana Extended-B":[110576,110591],"Kana Supplement":[110592,110847],"Kana Extended-A":[110848,110895],"Small Kana Extension":[110896,110959],Nushu:[110960,111359],Duployan:[113664,113823],"Shorthand Format Controls":[113824,113839],"Znamenny Musical Notation":[118528,118735],"Byzantine Musical Symbols":[118784,119039],"Musical Symbols":[119040,119295],"Ancient Greek Musical Notation":[119296,119375],"Kaktovik Numerals":[119488,119519],"Mayan Numerals":[119520,119551],"Tai Xuan Jing Symbols":[119552,119647],"Counting Rod Numerals":[119648,119679],"Mathematical Alphanumeric Symbols":[119808,120831],"Sutton SignWriting":[120832,121519],"Latin Extended-G":[122624,122879],"Glagolitic Supplement":[122880,122927],"Cyrillic Extended-D":[122928,123023],"Nyiakeng Puachue Hmong":[123136,123215],Toto:[123536,123583],Wancho:[123584,123647],"Nag Mundari":[124112,124159],"Ethiopic Extended-B":[124896,124927],"Mende Kikakui":[124928,125151],Adlam:[125184,125279],"Indic Siyaq Numbers":[126064,126143],"Ottoman Siyaq Numbers":[126208,126287],"Arabic Mathematical Alphabetic Symbols":[126464,126719],"Mahjong Tiles":[126976,127023],"Domino Tiles":[127024,127135],"Playing Cards":[127136,127231],"Enclosed Alphanumeric Supplement":[127232,127487],"Enclosed Ideographic Supplement":[127488,127743],"Miscellaneous Symbols and Pictographs":[127744,128511],Emoticons:[128512,128591],"Ornamental Dingbats":[128592,128639],"Transport and Map Symbols":[128640,128767],"Alchemical Symbols":[128768,128895],"Geometric Shapes Extended":[128896,129023],"Supplemental Arrows-C":[129024,129279],"Supplemental Symbols and Pictographs":[129280,129535],"Chess Symbols":[129536,129647],"Symbols and Pictographs Extended-A":[129648,129791],"Symbols for Legacy Computing":[129792,130047],"CJK Unified Ideographs Extension B":[131072,173791],"CJK Unified Ideographs Extension C":[173824,177983],"CJK Unified Ideographs Extension D":[177984,178207],"CJK Unified Ideographs Extension E":[178208,183983],"CJK Unified Ideographs Extension F":[183984,191471],"CJK Unified Ideographs Extension I":[191472,192095],"CJK Compatibility Ideographs Supplement":[194560,195103],"CJK Unified Ideographs Extension G":[196608,201551],"CJK Unified Ideographs Extension H":[201552,205743],Tags:[917504,917631],"Variation Selectors Supplement":[917760,917999],"Supplementary Private Use Area-A":[983040,1048575],"Supplementary Private Use Area-B":[1048576,1114111]};document.body.append(b("datalist",{id:"uniblocks"},Object.keys(ge).map(e=>b("option",{value:e}))));var ve=s((e,r)=>{e.addButton("unicode",{title:"add unicode character",creator:t=>{var[n,i,a]=$(),o;n.append(...d(`
				<input id=uniinp placeholder=text>
				<button id=uniremove class=hrte-button2>remove last</button>
				<br>
				<input id=uniblock placeholder=block list=uniblocks>
				<button id=uniblockupdate class=hrte-button2>apply</button>
				<br>
				<button id=uniprev class=hrte-button2>previous</button>
				<button id=uninext class=hrte-button2>next</button>
				<div id=unigrid class=hrte-grid></div>
				<button id=uniapply class=hrte-button2>insert</button>
				<button id=uniback class=hrte-button2>back</button>
			`)),t.addEventListener("click",k=>{k.stopPropagation(),o=e.captureSelection(),i()});var c=m("#uniinp",n)[0],f=m("#uniblock",n)[0],p=m("#unigrid",n)[0],x=0,v=s((k,u)=>{var g=ge[k];if(g){var[y,S]=g;if(!(u<0||u>Math.floor((S-y)/256))){p.replaceChildren();var L=y+u*256,z=L+256>S?S-L:256;for(let O=0;O<z;O++){let Y=String.fromCodePoint(L+O),X=d(`<div class='hrte-grid-item'>${Y}`);X.addEventListener("click",()=>c.value+=Y),p.append(X)}x=u}}},"updateGrid");m("#uniremove",n)[0].addEventListener("click",()=>{c.value=Array.from(c.value).slice(0,-1).join("")}),m("#uniapply",n)[0].addEventListener("click",()=>{a(),o(),e.doAction("unicode",()=>l.insert(c.value,"text"))}),m("#uniback",n)[0].addEventListener("click",()=>a()),m("#uniblockupdate",n)[0].addEventListener("click",()=>v(f.value,0)),m("#uniprev",n)[0].addEventListener("click",()=>v(f.value,x-1)),m("#uninext",n)[0].addEventListener("click",()=>v(f.value,x+1)),v("Basic latin",0),e.toolbarEl.append(n),t.append(d(`<img src='${e.icons}unicode.svg'>`))}})},"default");var be=s((e,r)=>{K(e,"custom style",{title:"custom style text",icon:`<img src='${e.icons}custom-style.svg'>`,inputs:[{placeholder:"property name"},{placeholder:"value (default: initial)"}],action:(t,n)=>l.applyCss(t,n)})},"default");var _=s((e,r,t,n,i)=>{if(e.childNodes.length!==0)for(var a=e,o;;){if(a.nodeType===1){if(o)o=!1;else if(!n.includes(a.tagName.toLowerCase())&&a.childNodes.length){a=a.childNodes[0];continue}}else if(a.nodeType===3){var c=a.textContent;for(let p=0;p<c.length;p++)if(c[p]===r[0]){var f=Me(a,p,r,e,t,n,i);if(f){a=f;break}}}if(a.nextSibling)a=a.nextSibling;else{if(a=a.parentNode,a===e)break;o=!0}}},"find"),Me=s((e,r,t,n,i,a,o)=>{if(t.length===1)return ye([e],r,r,o);for(var c=e,f=1,p=[],x,v=!0;;){if(c.nodeType===1){if(c===n||i.includes(c.tagName.toLowerCase())||a.includes(c.tagName.toLowerCase()))return;if(x)x=!1;else if(c.childNodes.length){c=c.childNodes[0];continue}}else if(c.nodeType===3){p.push(c);let k=c.textContent;for(let u=v?r+1:0;u<k.length;u++){if(k[u]!==t[f])return;if(f++,f===t.length)return ye(p,r,u,o)}v=!1}c.nextSibling?c=c.nextSibling:(c=c.parentNode,x=!0)}},"onFirstHit"),ye=s((e,r,t,n)=>{if(e.length===1){var i=e[0],a=i.textContent;i.before(a.slice(0,r)),i.after(a.slice(t+1)),i.textContent=a.slice(r,t+1)}else{var o=e[0],c=o.textContent;o.before(c.slice(0,r)),o.textContent=c.slice(r);var f=e[e.length-1],p=f.textContent;f.after(p.slice(t+1)),f.textContent=p.slice(0,t+1)}return n(e),e[e.length-1]},"afterFullSearch"),Ee=s((e,r)=>{var{blockTags:t,skipTags:n}={blockTags:["h1","h2","h3","h4","h5","h6","p","table","tbody","thead","th","tr","td","caption","col","tfoot","colgroup","li","ol","ul","q","div"],skipTags:["br","hr","script","style","img","video","audio","canvas","svg","map","object","input","textarea","select","option","optgroup","button"],...r.find};globalThis.a=(i,a)=>_(e.contentEl,i,t,n,a),e.addButton("find",{title:"find specified text",creator:i=>{var[a,o,c]=$();a.append(...d(`
				<input id=findinp placeholder='to find'>
				<br>
				<input id=findreplace placeholder='to replace'>
				<br>
				<button id=findbut class=hrte-button2>find</button>
				<button id=findreplacebut class=hrte-button2>replace</button>
				<button id=findnext class=hrte-button2>next</button>
				<button id=findclear class=hrte-button2>clear</button>
			`));var f=m("#findinp",a)[0],p=m("#findreplace",a)[0],x=0,v=0,k=s(()=>{x=0,v=0,m(".finded",e.contentEl).forEach(u=>{u.after(...u.childNodes),u.remove()})},"clear");m("#findbut",a)[0].addEventListener("click",()=>{k(),_(e.contentEl,f.value,t,n,u=>{v++,u.forEach(g=>{var y=b("mark",{classList:"finded finded-"+v});g.before(y),y.append(g)})})}),m("#findreplacebut",a)[0].addEventListener("click",()=>{k(),_(e.contentEl,f.value,t,n,u=>{u.forEach((g,y)=>g.textContent=y===0?p.value:"")})}),m("#findclear",a)[0].addEventListener("click",k),m("#findnext",a)[0].addEventListener("click",()=>{if(v!==0){x++,x===v+1&&(x=1);var u=m(".finded-"+x,e.contentEl),g=getSelection().getRangeAt(0);g.setStartBefore(u[0]),g.setEndAfter(u[u.length-1])}}),i.addEventListener("click",u=>{u.stopPropagation(),o()}),e.toolbarEl.append(a),i.append(d(`<img src='${e.icons}find.svg'>`))}})},"default");var ke=s((e,r)=>{var[t,n,i]=ne();t.append(...d(`
		<div id=length></div>
		<div id=charcount></div>
		<div id=wordcount></div>
	`)),e.mainEl.append(t);var a=m("#length",t)[0],o=m("#charcount",t)[0],c=m("#wordcount",t)[0];e.addButton("info",{title:"show information about text",icon:`<img src='${e.icons}info.svg'>`,action:()=>{var f=e.contentEl.innerText;setTimeout(()=>n(),1),a.innerText="length: "+f.length,o.innerText="character count: "+Array.from(f).length,c.innerText="word count: "+f.split(" ").length}})},"default");var Qr=s(e=>new R({plugins:[ae,oe,xe,ue,Ee,se,ce,le,de,pe,be,he,me,ve,ke],toolbar:["clean","remove format","separator","select paragraph","select all","separator","copy","cut","paste","paste text","separator","undo","redo","separator","find","info","source","separator","bold","italic","underline","strikethrough","subscript","superscript","separator","font size","font family","font color","background color","separator","paragraph","quote","heading","horizantal rule","separator","unordered list","ordered list","separator","align","indent","direction","separator","image","link","video","iframe","separator","table","row","column","table caption","separator","insert html","custom style","unicode"],...e}),"default");export{Qr as default};
