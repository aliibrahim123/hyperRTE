var Be=Object.defineProperty;var s=(e,t)=>Be(e,"name",{value:t,configurable:!0});var T=s((e,t)=>{if(typeof e!="string")throw new TypeError(`hyperRTE: ${t} of type (${e?.constructor?.name}), expected (String)`)},"checkstr"),k=s((e,t)=>{if(typeof e!="function")throw new TypeError(`hyperRTE: ${t} of type (${e?.constructor?.name}), expected (Function)`)},"checkfn"),C=s((e,t)=>{if(!Array.isArray(e))throw new TypeError(`hyperRTE: ${t} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr"),I=s((e,t)=>{if(typeof e!="number")throw new TypeError(`hyperRTE: ${t} of type (${e?.constructor?.name}), expected (Number)`);if(!Number.isInteger(e))throw new TypeError(`hyperRTE: ${t} is (${e}), expected integer`)},"checkpInt");var j=s((e,t)=>{if(!(e instanceof Node))throw new TypeError(`dom: ${t} of type (${e?.constructor?.name}), expected (Node)`)},"checknode"),H=s((e,t)=>{if(typeof e!="string")throw new TypeError(`dom: ${t} of type (${e?.constructor?.name}), expected (String)`)},"checkstr");var ae=s((e,t)=>{if(!Array.isArray(e))throw new TypeError(`dom: ${t} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr");var oe=s(e=>(e.forEach((t,r)=>{if(!(t instanceof Node))throw new TypeError(`dom: element at index (${r}) of type (${t?.constructor?.name}), expected (Element)`)}),e),"checkEls"),Pe=/[a-z]/,We=s((e,t=document,r)=>{if(typeof e=="string"){if(e[0]?.match(Pe))return[v(e,t instanceof Node?[]:t,r)];if(e[0]==="<"){let n=document.createElement("div");return n.innerHTML=e,Array.from(n.children)}return j(t,"root"),Array.from(t.querySelectorAll(e))}if(e instanceof Element)return[e];if(Array.isArray(e))return oe(e);if(e?.length!==void 0)return oe(Array.from(e));throw new TypeError(`dom: a of type (${e?.constructor?.name}), expected (String) or (Element) or (ArrayLike)}`)},"$el"),v=s((e,t={},r=[])=>{H(e,"tag"),ae(r,"children");var n=document.createElement(e);for(let i in t){let a=t[i];if(i==="text")n.innerText=a;else if(i==="classList")n.classList=Array.isArray(a)?a.join(" "):a;else if(i==="style")Object.assign(n.style,a);else if(i==="attr")for(let o in a)n.setAttribute(o,a[o]);else if(i==="events")for(let o in a)n.addEventListener(o,a[o]);else n[i]=a}return n.append(...r),n},"create"),h=s((e,t=document)=>(H(e,"query"),j(t,"root"),Array.from(t.querySelectorAll(e))),"query"),d=s((e,t=!1)=>{H(e,"string");var r=document.createElement("div");return r.innerHTML=e,!t&&r.children.length===1?r.children[0]:Array.from(r.children)},"construct"),se=We;var B=s((e,t)=>{if(typeof e!="string")throw new TypeError(`events: ${t} of type (${e?.constructor?.name}), expected (String)`)},"checkstr"),V=s((e,t)=>{if(typeof e!="function")throw new TypeError(`events: ${t} of type (${e?.constructor?.name}), expected (Function)`)},"checkfn"),Re=s((e,t)=>{if(!Array.isArray(e))throw new TypeError(`events: ${t} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr"),D=class{static{s(this,"EventEmmiter")}constructor(t={},r={}){this.opts={addUndifined:!0,...t},this.events={};for(let n in r)this.add(n),Re(r[n],"listners"),r[n].forEach(i=>this.on(n,i))}add(t){if(B(t,"name"),t in this.events)throw new ReferenceError(`events: adding defined event (${t})`);return this.events[t]=[],this}has(t){return B(t,"name"),t in this.events}on(t,r){if(typeof t=="object"){for(let n in t)this.on(n,t[n]);return this}if(B(t,"name"),V(r,"listner"),t in this.events)this.events[t].push(r);else if(this.opts.addUndifined)this.events[t]=[r];else throw new ReferenceError(`events: undefined event (${t})`);return this}off(t,r){if(B(t,"name"),V(r,"listner"),t in this.events)r?this.events[t].splice(this.events[t].indexOf(r),1):this.events[t]=[];else throw new ReferenceError(`events: undefined event (${t})`);return this}once(t,r){B(t,"name"),V(r,"listner");var n=s((...i)=>{r(...i),this.off(t,n)},"onceFn");return this.on(t,n)}trigger(t,...r){if(B(t,"name"),t in this.events)this.events[t].forEach(n=>n(...r));else throw new ReferenceError(`events: undefined event (${t})`);return this}};var ce=s((e,t)=>{var r=e.mainEl=se(t)[0];if(!r)throw new Error(`HyperRTE: no element with selector (${t})`);r.classList.add("hrte");var n=e.toolbarEl=d('<div class="hrte-toolbar">');r.append(n);var i=e.contentEl=d('<div class="hrte-content">');r.append(i),i.contentEditable=!0,i.addEventListener("keyup",()=>e.trigger("stateChange")),i.addEventListener("mouseup",()=>e.trigger("stateChange")),i.addEventListener("input",a=>e.trigger("input",a)),i.addEventListener("cut",a=>e.trigger("cut",a)),i.addEventListener("copy",a=>e.trigger("copy",a)),i.addEventListener("paste",a=>e.trigger("paste",a))},"constructMainUI"),le=s((e,t)=>{var{buttons:r,toolbarEl:n}=e;t.forEach(i=>{if(i==="separator")return n.append(d("<span class='hrte-button-separator'>&nbsp;</span>"));var a=r[i];if(!a)throw new TypeError(`HyperRTE: undefined button (${i})`);var{title:o,creator:c,state:f,action:p}=a,x=d(`<button class='hrte-button' title='${o||""}'>`);c(x,e),p&&x.addEventListener("click",g=>{e.contentEl.focus(),e.doAction(i,p)}),f&&e.on("stateChange",()=>f(e,x)?x.classList.add("hrte-button-selected"):x.classList.remove("hrte-button-selected")),n.append(x)})},"constructToolbar");var Ie=Math.sqrt(screen.height**2+screen.width**2)/100;document.body.style.setProperty("--vd",Ie+"px");var _=s(e=>{e:if(e.children.length===1&&e.classList.contains("styled")){var t=e.children[0],r=e,n={};for(de(e,n);r.children.length===1&&r.childNodes.length===1&&t.tagName===r.tagName&&t.classList.contains("styled");)r=t,t=t.children[0],de(r,n);if(r===e)break e;Object.keys(n).forEach(i=>{r.classList.add("styled-"+i),r.style[i]=n[i]}),e.after(r),e.remove(),e=r}Array.from(e.children).forEach(i=>_(i))},"cleanStyles"),de=s((e,t)=>Array.from(e.classList).filter(r=>r.startsWith("styled-")).map(r=>{var n=r.slice(7);t[n]=e.style[n]}),"handleStyles");var $=s((e,t)=>{if(!(e instanceof Element))throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (Element)`)},"checkel"),K=s((e,t)=>{if(!(e instanceof Node))throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (Node)`)},"checknode"),S=s((e,t)=>{if(typeof e!="string")throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (String)`)},"checkstr"),z=s((e,t)=>{if(typeof e!="function")throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (Function)`)},"checkfn"),O=s((e,t)=>{if(!Array.isArray(e))throw new TypeError(`edit: ${t} of type (${e?.constructor?.name}), expected (Array)`)},"checkarr");var N=s(e=>{$(e,"element"),e.after(...e.childNodes),e.remove()},"unwrap"),Y=s(()=>{var e=getSelection();if(e.rangeCount){var t=e.getRangeAt(0),r=t.startContainer;for(r.nodeType!==r.ELEMENT_NODE&&(r=r.parentElement);!r.hasAttribute("contenteditable");){if(r===document.body)return;r=r.parentElement}return r}},"getContainer"),X=s((e,t,r)=>{$(e,"element"),t&&K(t,"offset element"),r&&$(r,"offset parent");var n=e.cloneNode(!1),i=Array.from(e.childNodes),a=!1;for(let o=0;o<i.length;o++){let c=i[o];(a||c===t)&&(a=!0,n.append(c))}return r?r.prepend(n):e.after(n),n},"splitEl"),P=s((e,t)=>{S(e,"tag"),t&&z(t,"function");var r=getSelection();if(r.rangeCount){var n=r.getRangeAt(0),i=Y();if(i)for(var a=n.commonAncestorContainer;a!==i;){if(a.tagName===e.toUpperCase()&&(!t||t(a)))return a;a=a.parentElement}}},"getWrapped");var U=s((e,t,r=!0,n,i={})=>{$(e,"element"),S(t,"tag"),n&&z(n,"cleaner"),t=t.toLowerCase();var a=[...e.getElementsByTagName(t)];r&&e.tagName===t.toUpperCase()&&a.push(e),a=a.filter(o=>Array.from(o.classList).every(c=>c in W?W[c](o,i[c]):!0)),n&&(a=a.filter(n)),a.forEach(o=>N(o))},"clean"),Z=s((e,t=[],r=[],n=[],i=new Set)=>{if(K(e,"node"),O(t,"doNotCleanTags"),e.nodeType===e.ELEMENT_NODE){var a=Array.from(e.childNodes),o=e.tagName.toLowerCase();if(n.includes(o))return;t.includes(o)||(e.childNodes.length===0?e.remove():r.includes(o)||(e.tagName===e.previousSibling?.tagName?(e.previousSibling.append(...a),e.remove()):i.has(o)&&!Array.from(e.classList).some(c=>c in W)&&(e.after(...a),e.remove()))),a.forEach(c=>Z(c,t,r,n,new Set([...i,o])))}else e.nodeType===3&&(e.textContent===""?e.remove():e.previousSibling?.nodeType===e.TEXT_NODE&&(e.previousSibling.textContent+=e.textContent,e.remove()))},"cleanDom"),W={styled(e,t){if(!t)return!1;var[r,n]=t;return e.classList.contains(n+"-"+r)&&(e.classList.remove(n+"-"+r),e.style[r]=""),[...e.classList].reduce((i,a)=>a.startsWith(n)?i+1:i,0)===1}};var fe={unwrap:N,getContainer:Y,splitEl:X,getWrapped:P,clean:U,cleanDom:Z,cleanMap:W,isWrappedWith(e,t){return!!P(e,t)},surround(e,t=!0,r,n){$(e,"wrapper");var i=getSelection();if(!i.rangeCount)return{success:!1};var a=i.getRangeAt(0);return e.append(...a.cloneContents().childNodes),a.deleteContents(),t&&U(e,e.tagName,!1,r,n),a.insertNode(e),{success:!0,type:"surround",node:e}},undo(e,t,r){var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0),a=i.cloneContents();i.deleteContents();var o=document.createElement("span");o.append(a),U(o,e,!1,t,r),i.insertNode(o);var c=P(e,t);if(!c){var y=o.childNodes[0],u=o.childNodes[o.childNodes.length-1];return N(o),i.setStartBefore(y),i.setEndAfter(u),{success:!0,type:"undo"}}for(var f=o,p=[f];f!==c;)f=f.parentElement,p.unshift(f);var x;p.forEach((m,b)=>{m!==c&&(x=X(m.parentElement,m.nextSibling,x))});var g=p.reduce((m,b,E)=>{if(E===p.length-1)return m;var w=b.cloneNode(!1);return m===c?m.after(w):m.append(w),w});g===c?c.after(o):g.append(o);var y=o.childNodes[0],u=o.childNodes[o.childNodes.length-1];return N(o),i.setStartBefore(y),i.setEndAfter(u),{success:!0,type:"undo"}},replace(e="",t="text",r=!1){S(t,"replace type");var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0);if(i.deleteContents(),t==="node")i.insertNode(e);else{S(e,"topaste");let a=document.createElement("span");if(t==="text")a.innerText=e;else if(t==="html")a.innerHTML=e;else throw new TypeError("edit: undefined replace type ("+t+")");i.insertNode(a),r&&r(a)}return{success:!0,type:"replace"}},applyCss(e,t,r="span",n="styled",i=!0,a){S(e,"property"),S(t,"value");var o=document.createElement(r);return o.classList.add(n),o.classList.add(n+"-"+e),o.style[e]=t,this.surround(o,i,a,{styled:[e,n]})},copy(){var e=getSelection();if(!e.rangeCount)return"";var t=e.getRangeAt(0),r=document.createElement("div");return r.append(t.cloneContents()),r.innerHTML},cut(){var e=getSelection();if(!e.rangeCount)return"";var t=e.getRangeAt(0),r=document.createElement("div");return r.append(t.extractContents()),r.innerHTML},delete(){var e=getSelection();if(!e.rangeCount)return{success:!1};var t=e.getRangeAt(0);return t.deleteContents(),{success:!0,type:"delete"}},insert(e,t="text",r=!1){S(t,"insert type");var n=getSelection();if(!n.rangeCount)return{success:!1};var i=n.getRangeAt(0);if(t==="node")i.insertNode(e);else{S(e,"toinsert");var a=document.createElement("span");if(t==="text")a.innerText=e;else if(t==="html")a.innerHTML=e;else throw new Error("edit: undefined insert type ("+t+")");i.insertNode(a),r&&r(a)}return{success:!0,type:"insert"}},toggle(e,t=0,r,n,i){var a;if(e?.nodeType?(a=e,e=e.tagName.toLowerCase()):a=document.createElement(e),t===0)return this.isWrappedWith(e)?this.undo(e,n,i):this.surround(a,r,n,i);if(t===1)return this.surround(a,r,n,i);if(t===2)return this.undo(e,n,i);throw new Error("edit: toggle type is ("+t+"), expected 0, 1, or 2")},removeFormat(e=["b","i","u","s","sup","sub","span","div"]){O(e,"tagNames");var t=getSelection();if(!t.rangeCount)return{success:!1};var r=t.getRangeAt(0),n=t.toString();return r.deleteContents(),r.insertNode(new Text(n)),e.forEach(i=>this.undo(i)),{success:!0,type:"remove-format"}},getSelectedElement(){var e=getSelection();if(e.rangeCount){var t=e.getRangeAt(0).commonAncestorContainer;return t.nodeType===3?t.parentNode:t}},selectParagraph(){var e=getSelection();if(!e.rangeCount)return{success:!1};var t=e.getRangeAt(0),r=P("p");return r?(t.selectNode(r),{success:!0,type:"select"}):this.selectAll()},selectAll(){var e=getSelection();if(!e.rangeCount)return{success:!1};var t=e.getRangeAt(0),r=this.getContainer();return t.setStartBefore(r.firstChild),t.setEndAfter(r.lastChild),{success:!0,type:"select"}},bold(e){return this.toggle("b",e)},underline(e){return this.toggle("u",e)},italic(e){return this.toggle("i",e)},strikeThrough(e){return this.toggle("s",e)},subscript(e){return this.toggle("sub",e)},superscript(e){return this.toggle("sup",e)},backColor(e){return this.applyCss("background-color",e||"")},fontColor(e){return this.applyCss("color",e||"")},fontName(e){return this.applyCss("font-family",e||"")},fontSize(e){return this.applyCss("font-size",e||"")},link(e,t=!1){S(e,"url");var r=document.createElement("a");return r.href=e,t&&this.isWrappedWith("a")?this.undo("a"):this.surround(r)},img(e){S(e,"url");var t=document.createElement("img");return t.src=e,this.insert(t,"node")},heading(e=1,t){return this.toggle("h"+e,t)},orderedList(){var e=this.surround(document.createElement("li")),t=document.createElement("ol");return e.node.before(t),t.append(e.node),e},unorderedList(){var e=this.surround(document.createElement("li")),t=document.createElement("ul");return e.node.before(t),t.append(e.node),e},block(e){return this.toggle("div",e)},inline(e){return this.toggle("span",e)},paragraph(){var e=P("p");return e?(N(e),{success:!0,type:"undo"}):this.surround(document.createElement("p"))},quote(e){return this.toggle("q",e)},indent(e){return this.selectParagraph(),this.applyCss("text-indent",e||"","div")},align(e){return this.selectParagraph(),this.applyCss("text-align",e||"","div")},direction(e){return this.applyCss("direction",e||"","div")},hr(){return this.insert(document.createElement("hr"),"node")}};globalThis.$edit=fe;var l=fe;var M=s((e=!0)=>{var t=d("<span class='hrte-dropDown'>"),r=s(a=>{e&&!t.contains(a.target)&&i()},"clickListner"),n=s(()=>{t.classList.add("hrte-dropDown-open"),document.body.addEventListener("click",r)},"open"),i=s(()=>{document.body.removeEventListener("click",r),t.classList.remove("hrte-dropDown-open")},"close");return[t,n,i]},"createDropDown"),pe=s((e=!0)=>{var t=d("<span class='hrte-dialog'>"),r=s(a=>{e&&!t.contains(a.target)&&i()},"clickListner"),n=s(()=>{t.classList.add("hrte-dialog-open"),document.body.addEventListener("click",r)},"open"),i=s(()=>{document.body.removeEventListener("click",r),t.classList.remove("hrte-dialog-open")},"close");return[t,n,i]},"createDialog"),A=s((e,t,r)=>{var{title:n,icon:i,data:a,item:o,action:c,state:f}=r;C(a,"data"),T(i,"icon"),k(o,"item transformer"),k(c,"action"),e.addButton(t,{title:n,state:f,creator:p=>{var[x,g,y]=M();a.forEach((m,b)=>{b!==0&&x.append(d("<div class='hrte-list-separator'>"));var E=d("<div class='hrte-list-item'>");E.append(o(m,e)),E.addEventListener("click",()=>{y(),u(),e.doAction(t,()=>c(m,e))}),x.append(E)});var u;p.addEventListener("click",m=>{m.stopPropagation(),u=e.captureSelection(),g()}),e.toolbarEl.append(x),p.append(d(i))}})},"addList"),L=s((e,t,r)=>{var{title:n,icon:i,action:a,state:o,type:c,reset:f,...p}=r;T(i,"icon"),T(i,"type"),k(a,"action"),e.addButton(t,{title:n,state:o,creator:x=>{var[g,y,u]=M(),m;x.addEventListener("click",J=>{J.stopPropagation(),m=e.captureSelection(),y()});var b=d(c==="textarea"?"<textarea>":"<input>");c!=="textarea"&&(b.type=c),Object.assign(b,p);var E=d('<span class="hrte-button2">apply</span>');if(E.addEventListener("click",()=>{u(),m(),e.doAction(t,()=>a(b.value,e))}),f){var w=d('<span class="hrte-button2">remove</span>');w.addEventListener("click",()=>{u(),m(),e.doAction(t,()=>a("initial",e))})}else var w="";g.append(b,v("div",{},[E,w])),e.toolbarEl.append(g),x.append(d(i))}})},"addInput"),G=s((e,t,r)=>L(e,t,{type:"number",...r}),"addNumber"),Q=s((e,t,r)=>L(e,t,{type:"color",reset:!0,...r}),"addColor"),q=s((e,t,r)=>{var{title:n,icon:i,action:a,state:o,inputs:c}=r;C(c,"inputs"),k(a,"action"),e.addButton(t,{title:n,state:o,creator:f=>{var[p,x,g]=M(),y;f.addEventListener("click",b=>{b.stopPropagation(),y=e.captureSelection(),x()});var u=c.map(b=>{var E=v("input");return Object.assign(E,b),E}),m=d('<span class="hrte-button2">apply</span>');m.addEventListener("click",()=>{g(),y(),e.doAction(t,()=>a(...u.map(b=>b.value),e))}),p.append(...u,v("div",{},[m])),e.toolbarEl.append(p),f.append(d(i))}})},"addInputs"),xe=s((e,t,r)=>{var{title:n,icon:i,creator:a}=r;k(a,"creator");var o=s(()=>{c.style.display="none",e.toolbarEl.style.display="",e.contentEl.style.display="",e.trigger("showMain")},"back"),[c,f]=a(e,o);c.classList.add("hrte-panel"),c.style.display="none",e.mainEl.append(c),e.addButton(t,{title:n,creator:p=>{p.append(d(i)),p.addEventListener("click",()=>{c.style.display="",e.toolbarEl.style.display="none",e.contentEl.style.display="none",e.trigger("hideMain"),f(e)})}})},"addPanel"),He=s((e,t)=>{var[r,n,i]=M(),a,o=!0;for(let f in t){k(t[f],"menu item ("+f+")");let p=d(`<div class='hrte-list-item'>${f}`);p.addEventListener("click",()=>{a(),t[f](e),i()}),o||r.append(d("<div class='hrte-list-separator'>")),r.append(p),o=!1}var c=s(()=>{a=e.captureSelection(),n()},"open");return[r,c,i]},"createMenu"),ee=s((e,t,r)=>{var{title:n,state:i,icon:a,...o}=r;T(a,"icon"),e.addButton(t,{title:n,state:i,creator:c=>{var[f,p]=He(e,o);c.addEventListener("click",x=>{x.stopPropagation(),p()}),e.toolbarEl.append(f),c.append(d(a))}})},"addMenu");var R=class{static{s(this,"HyperRTE")}buttons={};events=new D;constructor(t){var{el:r,plugins:n,toolbar:i,icons:a,clean:o}={el:null,plugins:[],toolbar:[],icons:"./icons/",clean:{cleanAfterAction:!0,doNotMergeTags:["div","span","p","li","ul","ol","a","mark"],doNotCleanTags:["hr","br","img","video","iframe","td","tr","table","caption"],skipTags:["svg","math"]},...t},{cleanAfterAction:c,doNotCleanTags:f,doNotMergeTags:p,skipTags:x}=o;this.cleanAfterAction=c,T(a,"icons path"),this.icons=a,C(f,"doNotCleanTags"),this.doNotCleanTags=f,C(p,"doNotMergeTags"),this.doNotMergeTags=p,C(x,"skipTags"),this.skipTags=x,["stateChange","beforeAction","afterAction","input","cut","copy","paste","export","showMain","hideMain"].forEach(g=>this.events.add(g)),ce(this,r),C(n,"plugins"),n.forEach(g=>{k(g,"plugin"),g(this,t)}),C(i,"toolbar"),i.length===0&&(i=Object.keys(this.buttons)),le(this,i)}on(t,r){this.events.on(t,r)}off(t,r){this.events.off(t,r)}once(t,r){this.events.once(t,r)}trigger(t,...r){this.events.trigger(t,this,...r)}doAction(t,r,n=!1){T(t,"action name"),k(r,"handler"),!(!n&&!this.contentEl.contains(document.activeElement))&&(this.trigger("beforeAction",t),r(this),this.cleanAfterAction&&this.clean(),this.trigger("afterAction",t),this.contentEl.focus(),this.trigger("stateChange"))}get content(){return this.contentEl.innerHTML}set content(t){this.contentEl.innerHTML=t}clean(){this.contentEl.childNodes.length!==0&&(l.cleanDom(this.contentEl,this.doNotCleanTags,this.doNotMergeTags,this.skipTags),_(this.contentEl))}focus(){this.contentEl.focus()}export(){var t=this.contentEl.cloneNode(!0);return h(".styled",t).forEach(r=>Array.from(r.classList).forEach(n=>n.startsWith("styled")&&r.classList.remove(n))),this.trigger("export",t),t.innerHTML}captureSelection(){var t=getSelection();if(!t.rangeCount)return()=>{};var r=t.getRangeAt(0).cloneRange();return()=>{t.removeAllRanges(),t.addRange(r)}}addButton(t,r){if(T(t,"button name"),!r)throw new TypeError(`HyperRTE: definition of type (${r}), expected (Object)`);var{title:n,icon:i,creator:a,state:o,action:c}=r;T(n,"title"),i&&(T(i,"icon"),a=s(f=>f.append(d(i)),"creator")),k(a,"creator"),o&&k(o,"state"),c&&k(c,"action"),this.buttons[t]={title:n,creator:a,state:o,action:c}}};var ue=s((e,t)=>{e.addButton("clean",{title:"clean the dom",icon:`<img src='${e.icons}clean.svg'>`,action:()=>e.clean()}),e.addButton("remove format",{title:"remove format",icon:`<img src='${e.icons}remove-format.svg'>`,action:()=>l.removeFormat()}),e.addButton("select paragraph",{title:"select paragraph",icon:`<img src='${e.icons}select-paragraph.svg'>`,action:()=>l.selectParagraph()}),e.addButton("select all",{title:"select all",icon:`<img src='${e.icons}select-all.svg'>`,action:()=>l.selectAll()})},"default");var he=s((e,t)=>{e.addButton("bold",{title:"toggle bold",icon:`<img src='${e.icons}bold.svg'>`,state:()=>l.isWrappedWith("b"),action:()=>l.bold()}),e.addButton("italic",{title:"toggle italic",icon:`<img src='${e.icons}italic.svg'>`,state:()=>l.isWrappedWith("i"),action:()=>l.italic()}),e.addButton("underline",{title:"toggle underline",icon:`<img style='height:calc(var(--vd) * 1.2)' src='${e.icons}underline.svg'>`,state:()=>l.isWrappedWith("u"),action:()=>l.underline()}),e.addButton("strikethrough",{title:"toggle strikethrough",icon:`<img src='${e.icons}strikethrough.svg'>`,state:()=>l.isWrappedWith("s"),action:()=>l.strikeThrough()}),e.addButton("subscript",{title:"toggle subscript",icon:`<img src='${e.icons}subscript.svg'>`,state:()=>l.isWrappedWith("sub"),action:()=>l.subscript()}),e.addButton("superscript",{title:"toggle superscript",icon:`<img src='${e.icons}superscript.svg'>`,state:()=>l.isWrappedWith("sup"),action:()=>l.superscript()})},"default");var me=s((e,t)=>{var r=t.fonts||["default","cursive","monospace","serif","sans-serif","fantasy","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Bookman Old Style","Bradley Hand ITC","Century","Century Gothic","Comic Sans MS","Courier","Courier New","Georgia","Gentium","Impact","King","Lucida Console","Lalit","Modena","Monotype Corsiva","Papyrus","Tahoma","TeX","Times","Times New Roman","Trebuchet MS","Verdana","Verona"];C(r,"fonts"),G(e,"font size",{title:"change font size",icon:`<img src='${e.icons}font-size.svg'>`,placeholder:"size",min:1,action:n=>l.fontSize(n==="initial"?n:n+"px"),reset:!0}),A(e,"font family",{title:"change font family",icon:`<img src='${e.icons}font-family.svg'>`,data:r,item:n=>d(`<span style='font-family: "${n}"'>${n}`),action:n=>l.fontName(n==="default"?"initial":n)}),Q(e,"font color",{title:"change font color",icon:`<img src='${e.icons}font-color.svg'>`,action:n=>l.fontColor(n)}),Q(e,"background color",{title:"change backColor color",icon:`<img src='${e.icons}back-color.svg'>`,action:n=>l.backColor(n)})},"default");var ge=s((e,t)=>{e.addButton("paragraph",{title:"toogle paragraph",icon:`<img src='${e.icons}paragraph.svg'>`,action:()=>l.paragraph(),state:()=>l.isWrappedWith("p")}),e.addButton("quote",{title:"add quote",icon:`<img src='${e.icons}quote.svg'>`,action:()=>l.quote(),state:()=>l.isWrappedWith("q")}),A(e,"heading",{title:"add heading",icon:`<img src='${e.icons}heading.svg'>`,data:[1,2,3,4,5,6],item:r=>d(`<h${r}>size ${r}`),action:r=>l.heading(r),state:()=>[1,2,3,4,5,6].some(r=>l.isWrappedWith("h"+r))}),e.addButton("unordered list",{title:"add unordered list",icon:`<img src='${e.icons}ulist.svg'>`,action:()=>l.unorderedList(),state:()=>l.isWrappedWith("ul")}),e.addButton("ordered list",{title:"add ordered list",icon:`<img src='${e.icons}olist.svg'>`,action:()=>l.orderedList(),state:()=>l.isWrappedWith("ol")}),e.addButton("horizantal rule",{title:"add horizantal rule",icon:`<img src='${e.icons}hr.svg'>`,action:()=>l.hr(),state:()=>l.isWrappedWith("hr")})},"default");var ve=s((e,t)=>{A(e,"align",{title:"change text aligning",icon:`<img src='${e.icons}align-justify.svg'>`,data:["left","right","center","justify"],item:r=>d(`<img title=${r} style='width: calc(var(--vd) * 1.5' src='${e.icons}align-${r}.svg'>`),action:r=>l.align(r),state:(r,n)=>{n.children[0].src=`${r.icons}align-${l.getWrapped("div",i=>i.style.textAlign!=="")?.style?.textAlign||"justify"}.svg`}}),G(e,"indent",{title:"change text indent",icon:`<img src='${e.icons}indent.svg'>`,placeholder:"size",min:1,action:r=>l.indent(r==="initial"?r:r+"px"),reset:!0}),A(e,"direction",{title:"change text direction",icon:`<img src='${e.icons}direction-ltr.svg'>`,data:["ltr","rtl"],item:r=>d(`<img title=${r==="ltr"?"left":"right"} style='width: calc(var(--vd) * 1.5' src='${e.icons}direction-${r}.svg'>`),action:r=>l.direction(r),state:(r,n)=>{n.children[0].src=`${r.icons}direction-${l.getWrapped("div",i=>i.style.direction!=="")?.style?.direction||"ltr"}.svg`}})},"default");var be=s((e,t)=>{L(e,"image",{title:"add image",icon:`<img src='${e.icons}image.svg'>`,type:"url",placeholder:"insert url",action:r=>l.insert(d(`<img src='${r}' class=resizable>`),"node")}),L(e,"link",{title:"add link",icon:`<img src='${e.icons}link.svg'>`,type:"url",placeholder:"insert url",reset:!0,action:r=>r==="initial"?l.undo("a"):l.link(r),state:()=>l.isWrappedWith("a")}),L(e,"video",{title:"add video",icon:`<img src='${e.icons}video.svg'>`,type:"url",placeholder:"insert url",action:r=>l.insert(d(`<video src='${r}' class=resizable>`),"node")}),L(e,"iframe",{title:"add iframe",icon:`<img src='${e.icons}iframe.svg'>`,type:"url",placeholder:"insert url",action:r=>l.insert(d(`<iframe src='${r}' class=resizable>`),"node")})},"default");var ye=Symbol("checked"),De=s(e=>{var t=e.target;if(!t.parentElement.classList.contains("resizable-container")){var r=d("<div class='resizable-container'>");t.after(r),r.append(t),t.style.width&&(r.style.width=t.style.width),t.style.height&&(r.style.height=t.style.height),t.style.width="100%",t.style.height="100%";var n=s(i=>{r!==i.target&&(t.style.width=r.style.width,t.style.height=r.style.height,r.after(t),r.remove(),document.body.removeEventListener("click",n))},"listner");setTimeout(()=>document.body.addEventListener("click",n),1)}},"handleResize"),Ke=s(e=>h(".resizable",e).forEach(t=>{t[ye]||(t.addEventListener("click",De),t[ye]=!0)}),"attach"),Ee=s((e,t)=>{e.on("afterAction",r=>Ke(r.contentEl)),e.on("export",(r,n)=>h(".resizable",n).forEach(i=>i.classList.remove("resizable")))},"default");var ke=s((e,t)=>{var r=t.clipboard||10;I(r,"clipboard size"),e.clipboard=Array.from({length:r},()=>""),A(e,"copy",{title:"copy to clipboard",icon:`<img src='${e.icons}copy.svg'>`,data:Array.from({length:r},(n,i)=>i),item:n=>d(`<span>item ${n+1}`),action:(n,i)=>{var a=getSelection().toString(),o=l.copy();i.clipboard[n]=o,i.trigger("copy",o),navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([o],{type:"text/html"}),"text/plain":new Blob([a],{type:"text/plain"})})])}}),A(e,"cut",{title:"cut to clipboard",icon:`<img src='${e.icons}cut.svg'>`,data:Array.from({length:r},(n,i)=>i),item:n=>d(`<span>item ${n+1}`),action:(n,i)=>{var a=getSelection().toString(),o=l.cut();i.clipboard[n]=o,i.trigger("cut",o),navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([o],{type:"text/html"}),"text/plain":new Blob([a],{type:"text/plain"})})])}}),A(e,"paste",{title:"paste from clipboard",icon:`<img src='${e.icons}paste.svg'>`,data:Array.from({length:r},(n,i)=>i),item:n=>d(`<span>item ${n+1}`),action:(n,i)=>{var a=i.clipboard[n];l.insert(a,"html"),i.trigger("paste",a)}}),A(e,"paste text",{title:"paste as text from clipboard",icon:`<img src='${e.icons}paste-text.svg'>`,data:Array.from({length:r},(n,i)=>i),item:n=>d(`<span>item ${n+1}`),action:(n,i)=>{var a=document.createElement("div");a.innerHTML=i.clipboard[n];var o=a.innerText;l.insert(o,"text"),i.trigger("paste",o)}})},"default");var te=class{static{s(this,"History")}constructor(t,r){this.rte=t,I(r,"history size"),this.stackSize=r,this.stack=[""],this.index=0}get canUndo(){return this.index!==0}get canRedo(){return this.index!==this.stack.length-1}push(){this.stack=this.stack.slice(0,this.index+1),this.stack.push(this.rte.content),this.stack.length>this.stackSize&&this.stack.shift(),this.index=this.stack.length-1}undo(){this.canUndo&&(this.index--,this.rte.content=this.stack[this.index])}redo(){this.canRedo&&(this.index++,this.rte.content=this.stack[this.index])}},Ce=s((e,t)=>{var{size:r,skipActions:n}={size:20,skipActions:["undo","redo","copy","clean","select paragraph","select all","info"],...t.history};e.history=new te(e,r),C(n,"skip actions"),e.addButton("undo",{title:"undo action",icon:`<img src='${e.icons}undo.svg'>`,state:o=>o.history.canUndo,action:o=>o.history.undo()}),e.addButton("redo",{title:"redo action",icon:`<img src='${e.icons}redo.svg'>`,state:o=>o.history.canRedo,action:o=>o.history.redo()});var i=!1,a=0;e.on("input",()=>{i=!0,clearTimeout(a),a=setTimeout(()=>{i&&e.history.push(),i=!1},2500)}),e.on("beforeAction",()=>{i&&e.history.push(),i=!1}),e.on("afterAction",(o,c)=>{n.includes(c)||o.history.push()})},"default");var Se=s((e,t)=>{q(e,"table",{title:"insert table",icon:`<img src='${e.icons}table.svg'>`,inputs:[{type:"number",min:1,placeholder:"rows"},{type:"number",min:1,placeholder:"columns"}],action:(r,n)=>{r=Number(r),n=Number(n);var i=v("table");for(let a=0;a<r;a++){let o=v("tr");for(let c=0;c<n;c++)o.append(v("td",{innerHTML:"&nbsp;"}));i.append(o)}l.insert(i,"node")}}),ee(e,"row",{title:"table row actions",icon:`<img src='${e.icons}row.svg'>`,"add row before":()=>{var r=l.getWrapped("tr");if(r){var n=v("tr");n.append(...Array.from(r.children).map(()=>v("td",{innerHTML:"&nbsp;"}))),e.doAction("add row before",()=>r.before(n))}},"add row after":()=>{var r=l.getWrapped("tr");if(r){var n=v("tr");n.append(...Array.from(r.children).map(()=>v("td",{innerHTML:"&nbsp;"}))),e.doAction("add row after",()=>r.after(n))}},"remove row":()=>{var r=l.getWrapped("tr");r&&e.doAction("remove row",()=>r.remove())}}),ee(e,"column",{title:"table column actions",icon:`<img src='${e.icons}column.svg'>`,"add column before":()=>{var r=l.getWrapped("table");if(r){var n=l.getWrapped("td"),i=[].indexOf.call(n.parentElement.children,n);e.doAction("add column before",()=>{Array.from(r.rows).forEach(a=>a.children[i].before(v("td",{innerHTML:"&nbsp;"})))})}},"add column after":()=>{var r=l.getWrapped("table");if(r){var n=l.getWrapped("td"),i=[].indexOf.call(n.parentElement.children,n);e.doAction("add column before",()=>{Array.from(r.rows).forEach(a=>a.children[i].after(v("td",{innerHTML:"&nbsp;"})))})}},"remove column":()=>{var r=l.getWrapped("table");if(r){var n=l.getWrapped("td"),i=[].indexOf.call(n.parentElement.children,n);e.doAction("add column before",()=>{Array.from(r.rows).forEach(a=>a.children[i].remove())})}}}),L(e,"table caption",{title:"add table caption",icon:`<img src='${e.icons}table-caption.svg'>`,type:"textarea",placeholder:"insert text",action:r=>{var n=l.getWrapped("table");n&&n.prepend(v("caption",{innerHTML:r||"&nbsp;"}))}})},"default");var Ae=s((e,t)=>{var r=t.sanitizer;r===void 0?r=s(n=>{var i=v("span");return i.innerHTML=n,i},"sanitizer"):r===!0&&(r=s(n=>{var i=v("span");return i.setHTML(n),i},"sanitizer")),k(r,"sanitizer"),e.sanitizer=r,L(e,"insert html",{title:"insert html",icon:`<img src='${e.icons}insert-html.svg'>`,type:"textarea",placeholder:"insert html string",action:n=>l.insert(r(n),"node")}),xe(e,"source",{title:"edit source",icon:`<img src='${e.icons}source.svg'>`,creator:(n,i)=>{var a=d(`<div>
				<div class='hrte-panel-header'>source</div>
				<div id=source contenteditable class='hrte-content'></div>
				<button id=source-save class="hrte-button2">save</button>
				<button id=source-close class="hrte-button2">close</button>
			`),o=h("#source",a)[0];h("#source-save",a)[0].addEventListener("click",()=>{n.doAction("source",()=>n.contentEl.replaceChildren(...r(o.innerText).childNodes),!0),i()}),h("#source-close",a)[0].addEventListener("click",()=>i());var c=s(()=>{o.innerText=n.content},"onopen");return[a,c]}})},"default");var we={"Basic Latin":[0,127],"Latin-1 Supplement":[128,255],"Latin Extended-A":[256,383],"Latin Extended-B":[384,591],"IPA Extensions":[592,687],"Spacing Modifier Letters":[688,767],"Combining Diacritical Marks":[768,879],"Greek and Coptic":[880,1023],Cyrillic:[1024,1279],"Cyrillic Supplement":[1280,1327],Armenian:[1328,1423],Hebrew:[1424,1535],Arabic:[1536,1791],Syriac:[1792,1871],"Arabic Supplement":[1872,1919],Thaana:[1920,1983],NKo:[1984,2047],Samaritan:[2048,2111],Mandaic:[2112,2143],"Syriac Supplement":[2144,2159],"Arabic Extended-B":[2160,2207],"Arabic Extended-A":[2208,2303],Devanagari:[2304,2431],Bengali:[2432,2559],Gurmukhi:[2560,2687],Gujarati:[2688,2815],Oriya:[2816,2943],Tamil:[2944,3071],Telugu:[3072,3199],Kannada:[3200,3327],Malayalam:[3328,3455],Sinhala:[3456,3583],Thai:[3584,3711],Lao:[3712,3839],Tibetan:[3840,4095],Myanmar:[4096,4255],Georgian:[4256,4351],"Hangul Jamo":[4352,4607],Ethiopic:[4608,4991],"Ethiopic Supplement":[4992,5023],Cherokee:[5024,5119],"Unified Canadian Aboriginal Syllabics":[5120,5759],Ogham:[5760,5791],Runic:[5792,5887],Tagalog:[5888,5919],Hanunoo:[5920,5951],Buhid:[5952,5983],Tagbanwa:[5984,6015],Khmer:[6016,6143],Mongolian:[6144,6319],"Unified Canadian Aboriginal Syllabics Extended":[6320,6399],Limbu:[6400,6479],"Tai Le":[6480,6527],"New Tai Lue":[6528,6623],"Khmer Symbols":[6624,6655],Buginese:[6656,6687],"Tai Tham":[6688,6831],"Combining Diacritical Marks Extended":[6832,6911],Balinese:[6912,7039],Sundanese:[7040,7103],Batak:[7104,7167],Lepcha:[7168,7247],"Ol Chiki":[7248,7295],"Cyrillic Extended-C":[7296,7311],"Georgian Extended":[7312,7359],"Sundanese Supplement":[7360,7375],"Vedic Extensions":[7376,7423],"Phonetic Extensions":[7424,7551],"Phonetic Extensions Supplement":[7552,7615],"Combining Diacritical Marks Supplement":[7616,7679],"Latin Extended Additional":[7680,7935],"Greek Extended":[7936,8191],"General Punctuation":[8192,8303],"Superscripts and Subscripts":[8304,8351],"Currency Symbols":[8352,8399],"Combining Diacritical Marks for Symbols":[8400,8447],"Letterlike Symbols":[8448,8527],"Number Forms":[8528,8591],Arrows:[8592,8703],"Mathematical Operators":[8704,8959],"Miscellaneous Technical":[8960,9215],"Control Pictures":[9216,9279],"Optical Character Recognition":[9280,9311],"Enclosed Alphanumerics":[9312,9471],"Box Drawing":[9472,9599],"Block Elements":[9600,9631],"Geometric Shapes":[9632,9727],"Miscellaneous Symbols":[9728,9983],Dingbats:[9984,10175],"Miscellaneous Mathematical Symbols-A":[10176,10223],"Supplemental Arrows-A":[10224,10239],"Braille Patterns":[10240,10495],"Supplemental Arrows-B":[10496,10623],"Miscellaneous Mathematical Symbols-B":[10624,10751],"Supplemental Mathematical Operators":[10752,11007],"Miscellaneous Symbols and Arrows":[11008,11263],Glagolitic:[11264,11359],"Latin Extended-C":[11360,11391],Coptic:[11392,11519],"Georgian Supplement":[11520,11567],Tifinagh:[11568,11647],"Ethiopic Extended":[11648,11743],"Cyrillic Extended-A":[11744,11775],"Supplemental Punctuation":[11776,11903],"CJK Radicals Supplement":[11904,12031],"Kangxi Radicals":[12032,12255],"Ideographic Description Characters":[12272,12287],"CJK Symbols and Punctuation":[12288,12351],Hiragana:[12352,12447],Katakana:[12448,12543],Bopomofo:[12544,12591],"Hangul Compatibility Jamo":[12592,12687],Kanbun:[12688,12703],"Bopomofo Extended":[12704,12735],"CJK Strokes":[12736,12783],"Katakana Phonetic Extensions":[12784,12799],"Enclosed CJK Letters and Months":[12800,13055],"CJK Compatibility":[13056,13311],"CJK Unified Ideographs Extension A":[13312,19903],"Yijing Hexagram Symbols":[19904,19967],"CJK Unified Ideographs":[19968,40959],"Yi Syllables":[40960,42127],"Yi Radicals":[42128,42191],Lisu:[42192,42239],Vai:[42240,42559],"Cyrillic Extended-B":[42560,42655],Bamum:[42656,42751],"Modifier Tone Letters":[42752,42783],"Latin Extended-D":[42784,43007],"Syloti Nagri":[43008,43055],"Common Indic Number Forms":[43056,43071],"Phags-pa":[43072,43135],Saurashtra:[43136,43231],"Devanagari Extended":[43232,43263],"Kayah Li":[43264,43311],Rejang:[43312,43359],"Hangul Jamo Extended-A":[43360,43391],Javanese:[43392,43487],"Myanmar Extended-B":[43488,43519],Cham:[43520,43615],"Myanmar Extended-A":[43616,43647],"Tai Viet":[43648,43743],"Meetei Mayek Extensions":[43744,43775],"Ethiopic Extended-A":[43776,43823],"Latin Extended-E":[43824,43887],"Cherokee Supplement":[43888,43967],"Meetei Mayek":[43968,44031],"Hangul Syllables":[44032,55215],"Hangul Jamo Extended-B":[55216,55295],"High Surrogates":[55296,56191],"High Private Use Surrogates":[56192,56319],"Low Surrogates":[56320,57343],"Private Use Area":[57344,63743],"CJK Compatibility Ideographs":[63744,64255],"Alphabetic Presentation Forms":[64256,64335],"Arabic Presentation Forms-A":[64336,65023],"Variation Selectors":[65024,65039],"Vertical Forms":[65040,65055],"Combining Half Marks":[65056,65071],"CJK Compatibility Forms":[65072,65103],"Small Form Variants":[65104,65135],"Arabic Presentation Forms-B":[65136,65279],"Halfwidth and Fullwidth Forms":[65280,65519],Specials:[65520,65535],"Linear B Syllabary":[65536,65663],"Linear B Ideograms":[65664,65791],"Aegean Numbers":[65792,65855],"Ancient Greek Numbers":[65856,65935],"Ancient Symbols":[65936,65999],"Phaistos Disc":[66e3,66047],Lycian:[66176,66207],Carian:[66208,66271],"Coptic Epact Numbers":[66272,66303],"Old Italic":[66304,66351],Gothic:[66352,66383],"Old Permic":[66384,66431],Ugaritic:[66432,66463],"Old Persian":[66464,66527],Deseret:[66560,66639],Shavian:[66640,66687],Osmanya:[66688,66735],Osage:[66736,66815],Elbasan:[66816,66863],"Caucasian Albanian":[66864,66927],Vithkuqi:[66928,67007],"Linear A":[67072,67455],"Latin Extended-F":[67456,67519],"Cypriot Syllabary":[67584,67647],"Imperial Aramaic":[67648,67679],Palmyrene:[67680,67711],Nabataean:[67712,67759],Hatran:[67808,67839],Phoenician:[67840,67871],Lydian:[67872,67903],"Meroitic Hieroglyphs":[67968,67999],"Meroitic Cursive":[68e3,68095],Kharoshthi:[68096,68191],"Old South Arabian":[68192,68223],"Old North Arabian":[68224,68255],Manichaean:[68288,68351],Avestan:[68352,68415],"Inscriptional Parthian":[68416,68447],"Inscriptional Pahlavi":[68448,68479],"Psalter Pahlavi":[68480,68527],"Old Turkic":[68608,68687],"Old Hungarian":[68736,68863],"Hanifi Rohingya":[68864,68927],"Rumi Numeral Symbols":[69216,69247],Yezidi:[69248,69311],"Arabic Extended-C":[69312,69375],"Old Sogdian":[69376,69423],Sogdian:[69424,69487],"Old Uyghur":[69488,69551],Chorasmian:[69552,69599],Elymaic:[69600,69631],Brahmi:[69632,69759],Kaithi:[69760,69839],"Sora Sompeng":[69840,69887],Chakma:[69888,69967],Mahajani:[69968,70015],Sharada:[70016,70111],"Sinhala Archaic Numbers":[70112,70143],Khojki:[70144,70223],Multani:[70272,70319],Khudawadi:[70320,70399],Grantha:[70400,70527],Newa:[70656,70783],Tirhuta:[70784,70879],Siddham:[71040,71167],Modi:[71168,71263],"Mongolian Supplement":[71264,71295],Takri:[71296,71375],Ahom:[71424,71503],Dogra:[71680,71759],"Warang Citi":[71840,71935],"Dives Akuru":[71936,72031],Nandinagari:[72096,72191],"Zanabazar Square":[72192,72271],Soyombo:[72272,72367],"Unified Canadian Aboriginal Syllabics Extended-A":[72368,72383],"Pau Cin Hau":[72384,72447],"Devanagari Extended-A":[72448,72543],Bhaiksuki:[72704,72815],Marchen:[72816,72895],"Masaram Gondi":[72960,73055],"Gunjala Gondi":[73056,73135],Makasar:[73440,73471],Kawi:[73472,73567],"Lisu Supplement":[73648,73663],"Tamil Supplement":[73664,73727],Cuneiform:[73728,74751],"Cuneiform Numbers and Punctuation":[74752,74879],"Early Dynastic Cuneiform":[74880,75087],"Cypro-Minoan":[77712,77823],"Egyptian Hieroglyphs":[77824,78895],"Egyptian Hieroglyph Format Controls":[78896,78943],"Anatolian Hieroglyphs":[82944,83583],"Bamum Supplement":[92160,92735],Mro:[92736,92783],Tangsa:[92784,92879],"Bassa Vah":[92880,92927],"Pahawh Hmong":[92928,93071],Medefaidrin:[93760,93855],Miao:[93952,94111],"Ideographic Symbols and Punctuation":[94176,94207],Tangut:[94208,100351],"Tangut Components":[100352,101119],"Khitan Small Script":[101120,101631],"Tangut Supplement":[101632,101759],"Kana Extended-B":[110576,110591],"Kana Supplement":[110592,110847],"Kana Extended-A":[110848,110895],"Small Kana Extension":[110896,110959],Nushu:[110960,111359],Duployan:[113664,113823],"Shorthand Format Controls":[113824,113839],"Znamenny Musical Notation":[118528,118735],"Byzantine Musical Symbols":[118784,119039],"Musical Symbols":[119040,119295],"Ancient Greek Musical Notation":[119296,119375],"Kaktovik Numerals":[119488,119519],"Mayan Numerals":[119520,119551],"Tai Xuan Jing Symbols":[119552,119647],"Counting Rod Numerals":[119648,119679],"Mathematical Alphanumeric Symbols":[119808,120831],"Sutton SignWriting":[120832,121519],"Latin Extended-G":[122624,122879],"Glagolitic Supplement":[122880,122927],"Cyrillic Extended-D":[122928,123023],"Nyiakeng Puachue Hmong":[123136,123215],Toto:[123536,123583],Wancho:[123584,123647],"Nag Mundari":[124112,124159],"Ethiopic Extended-B":[124896,124927],"Mende Kikakui":[124928,125151],Adlam:[125184,125279],"Indic Siyaq Numbers":[126064,126143],"Ottoman Siyaq Numbers":[126208,126287],"Arabic Mathematical Alphabetic Symbols":[126464,126719],"Mahjong Tiles":[126976,127023],"Domino Tiles":[127024,127135],"Playing Cards":[127136,127231],"Enclosed Alphanumeric Supplement":[127232,127487],"Enclosed Ideographic Supplement":[127488,127743],"Miscellaneous Symbols and Pictographs":[127744,128511],Emoticons:[128512,128591],"Ornamental Dingbats":[128592,128639],"Transport and Map Symbols":[128640,128767],"Alchemical Symbols":[128768,128895],"Geometric Shapes Extended":[128896,129023],"Supplemental Arrows-C":[129024,129279],"Supplemental Symbols and Pictographs":[129280,129535],"Chess Symbols":[129536,129647],"Symbols and Pictographs Extended-A":[129648,129791],"Symbols for Legacy Computing":[129792,130047],"CJK Unified Ideographs Extension B":[131072,173791],"CJK Unified Ideographs Extension C":[173824,177983],"CJK Unified Ideographs Extension D":[177984,178207],"CJK Unified Ideographs Extension E":[178208,183983],"CJK Unified Ideographs Extension F":[183984,191471],"CJK Unified Ideographs Extension I":[191472,192095],"CJK Compatibility Ideographs Supplement":[194560,195103],"CJK Unified Ideographs Extension G":[196608,201551],"CJK Unified Ideographs Extension H":[201552,205743],Tags:[917504,917631],"Variation Selectors Supplement":[917760,917999],"Supplementary Private Use Area-A":[983040,1048575],"Supplementary Private Use Area-B":[1048576,1114111]};document.body.append(v("datalist",{id:"uniblocks"},Object.keys(we).map(e=>v("option",{value:e}))));var Te=s((e,t)=>{e.addButton("unicode",{title:"add unicode character",creator:r=>{var[n,i,a]=M(),o;n.append(...d(`
				<input id=uniinp placeholder=text>
				<button id=uniremove class=hrte-button2>remove last</button>
				<br>
				<input id=uniblock placeholder=block list=uniblocks>
				<button id=uniblockupdate class=hrte-button2>apply</button>
				<br>
				<button id=uniprev class=hrte-button2>previous</button>
				<button id=uninext class=hrte-button2>next</button>
				<div id=unigrid class=hrte-grid></div>
				<button id=uniapply class=hrte-button2>insert</button>
				<button id=uniback class=hrte-button2>back</button>
			`)),r.addEventListener("click",y=>{y.stopPropagation(),o=e.captureSelection(),i()});var c=h("#uniinp",n)[0],f=h("#uniblock",n)[0],p=h("#unigrid",n)[0],x=0,g=s((y,u)=>{var m=we[y];if(m){var[b,E]=m;if(!(u<0||u>Math.floor((E-b)/256))){p.replaceChildren();var w=b+u*256,J=w+256>E?E-w:256;for(let F=0;F<J;F++){let ne=String.fromCodePoint(w+F),ie=d(`<div class='hrte-grid-item'>${ne}`);ie.addEventListener("click",()=>c.value+=ne),p.append(ie)}x=u}}},"updateGrid");h("#uniremove",n)[0].addEventListener("click",()=>{c.value=Array.from(c.value).slice(0,-1).join("")}),h("#uniapply",n)[0].addEventListener("click",()=>{a(),o(),e.doAction("unicode",()=>l.insert(c.value,"text"))}),h("#uniback",n)[0].addEventListener("click",()=>a()),h("#uniblockupdate",n)[0].addEventListener("click",()=>g(f.value,0)),h("#uniprev",n)[0].addEventListener("click",()=>g(f.value,x-1)),h("#uninext",n)[0].addEventListener("click",()=>g(f.value,x+1)),g("Basic latin",0),e.toolbarEl.append(n),r.append(d(`<img src='${e.icons}unicode.svg'>`))}})},"default");var Le=s((e,t)=>{q(e,"custom style",{title:"custom style text",icon:`<img src='${e.icons}custom-style.svg'>`,inputs:[{placeholder:"property name"},{placeholder:"value (default: initial)"}],action:(r,n)=>l.applyCss(r,n)})},"default");var re=s((e,t,r,n,i)=>{if(e.childNodes.length!==0)for(var a=e,o;;){if(a.nodeType===1){if(o)o=!1;else if(!n.includes(a.tagName.toLowerCase())&&a.childNodes.length){a=a.childNodes[0];continue}}else if(a.nodeType===3){var c=a.textContent;for(let p=0;p<c.length;p++)if(c[p]===t[0]){var f=ze(a,p,t,e,r,n,i);if(f){a=f;break}}}if(a.nextSibling)a=a.nextSibling;else{if(a=a.parentNode,a===e)break;o=!0}}},"find"),ze=s((e,t,r,n,i,a,o)=>{if(r.length===1)return $e([e],t,t,o);for(var c=e,f=1,p=[],x,g=!0;;){if(c.nodeType===1){if(c===n||i.includes(c.tagName.toLowerCase())||a.includes(c.tagName.toLowerCase()))return;if(x)x=!1;else if(c.childNodes.length){c=c.childNodes[0];continue}}else if(c.nodeType===3){p.push(c);let y=c.textContent;for(let u=g?t+1:0;u<y.length;u++){if(y[u]!==r[f])return;if(f++,f===r.length)return $e(p,t,u,o)}g=!1}c.nextSibling?c=c.nextSibling:(c=c.parentNode,x=!0)}},"onFirstHit"),$e=s((e,t,r,n)=>{if(e.length===1){var i=e[0],a=i.textContent;i.before(a.slice(0,t)),i.after(a.slice(r+1)),i.textContent=a.slice(t,r+1)}else{var o=e[0],c=o.textContent;o.before(c.slice(0,t)),o.textContent=c.slice(t);var f=e[e.length-1],p=f.textContent;f.after(p.slice(r+1)),f.textContent=p.slice(0,r+1)}return n(e),e[e.length-1]},"afterFullSearch"),Me=s((e,t)=>{var{blockTags:r,skipTags:n}={blockTags:["h1","h2","h3","h4","h5","h6","p","table","tbody","thead","th","tr","td","caption","col","tfoot","colgroup","li","ol","ul","q","div"],skipTags:["br","hr","script","style","img","video","audio","canvas","svg","map","object","input","textarea","select","option","optgroup","button"],...t.find};globalThis.a=(i,a)=>re(e.contentEl,i,r,n,a),e.addButton("find",{title:"find specified text",creator:i=>{var[a,o,c]=M();a.append(...d(`
				<input id=findinp placeholder='to find'>
				<br>
				<input id=findreplace placeholder='to replace'>
				<br>
				<button id=findbut class=hrte-button2>find</button>
				<button id=findreplacebut class=hrte-button2>replace</button>
				<button id=findnext class=hrte-button2>next</button>
				<button id=findclear class=hrte-button2>clear</button>
			`));var f=h("#findinp",a)[0],p=h("#findreplace",a)[0],x=0,g=0,y=s(()=>{x=0,g=0,h(".finded",e.contentEl).forEach(u=>{u.after(...u.childNodes),u.remove()})},"clear");h("#findbut",a)[0].addEventListener("click",()=>{y(),re(e.contentEl,f.value,r,n,u=>{g++,u.forEach(m=>{var b=v("mark",{classList:"finded finded-"+g});m.before(b),b.append(m)})})}),h("#findreplacebut",a)[0].addEventListener("click",()=>{y(),re(e.contentEl,f.value,r,n,u=>{u.forEach((m,b)=>m.textContent=b===0?p.value:"")})}),h("#findclear",a)[0].addEventListener("click",y),h("#findnext",a)[0].addEventListener("click",()=>{if(g!==0){x++,x===g+1&&(x=1);var u=h(".finded-"+x,e.contentEl),m=getSelection().getRangeAt(0);m.setStartBefore(u[0]),m.setEndAfter(u[u.length-1])}}),i.addEventListener("click",u=>{u.stopPropagation(),o()}),e.toolbarEl.append(a),i.append(d(`<img src='${e.icons}find.svg'>`))}})},"default");var Ne=s((e,t)=>{var[r,n,i]=pe();r.append(...d(`
		<div id=length></div>
		<div id=charcount></div>
		<div id=wordcount></div>
	`)),e.mainEl.append(r);var a=h("#length",r)[0],o=h("#charcount",r)[0],c=h("#wordcount",r)[0];e.addButton("info",{title:"show information about text",icon:`<img src='${e.icons}info.svg'>`,action:()=>{var f=e.contentEl.innerText;setTimeout(()=>n(),1),a.innerText="length: "+f.length,o.innerText="character count: "+Array.from(f).length,c.innerText="word count: "+f.split(" ").length}})},"default");var mn=s(e=>new R({plugins:[ue,he,ke,Ce,Me,me,ge,ve,be,Ee,Le,Se,Ae,Te,Ne],toolbar:["clean","remove format","separator","select paragraph","select all","separator","copy","cut","paste","paste text","separator","undo","redo","separator","find","info","source","separator","bold","italic","underline","strikethrough","subscript","superscript","separator","font size","font family","font color","background color","separator","paragraph","quote","heading","horizantal rule","separator","unordered list","ordered list","separator","align","indent","direction","separator","image","link","video","iframe","separator","table","row","column","table caption","separator","insert html","custom style","unicode"],...e}),"default");export{mn as default};
